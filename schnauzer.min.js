/**! @license schnauzer v2.0.5; Copyright (C) 2017-2022 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t()}):e.Schnauzer=t()}(this&&this.window||global,function(){"use strict";var v=Object.keys||function(e){var t,r,n=[];for(var s in e)t=s,r=n,e.hasOwnProperty(t)&&r.push(t);return n},y=function(e,t){for(var r in t)n=t,e[s=r]=n[s];var n,s;return e},k=function(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t},f=function(e,t){this.version="2.0.5",this.partials={},this.helpers={},this.regexps={},this.controls={active:!1,stop:!1,loop:[]},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",escapeHTML:!0,limitPartialScope:!0,loopHelper:null,renderHook:null},r(this,t||{},e)},r=function(e,t,r){"string"!=typeof r&&(t=r,r=""),n(e,(t=y(e.options,t)).tags),e.helpers=t.helpers,e.registerPartial(t.partials),r&&e.parse(r),delete t.helpers,delete t.partials},e=f.SafeString=function(e){this.string=e};return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},f.getObjectKeys=v,f.cloneObject=y,f.concatArrays=k,f.prototype={render:function(e,t){var r=E(this,"","",0,e,null,[{scope:e}]);return[this.partials[this.options.self]({extra:t,scopes:[{scope:e,helpers:r,level:[],values:null,alias:{}}]}),this.controls.active=!0][0]},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var r in e)this.helpers[r]=e[r]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function(e,t,r){var n=t.split(e.regexps.tags);r.push({text:n[0]});for(var s=1,a="",l="",i="",o=0,p="",u=[],c=[],h=/^[!-]+/,v=/^else\s*/,f={"#":"B","^":"B","/":"C",E:"E"},g={},d="",y="",x={},b=n.length;s<b;s+=5)a=n[1+s],l=n[2+s],k=n[4+s],E=n[3+s],F=n[5+s]||"",w=void 0,m=-1!==E.indexOf("~"),S=-1!==F.indexOf("~"),i=(w=m||S?m?S?"^\\s*|\\s*$":"^\\s*":"\\s*$":"")?k.replace(new RegExp(w,"g"),""):k,"\\"===n[s].charAt(0)||h.test(a)||(o=l.indexOf(" "),p="/"!==a&&l.substring(0,o)||l,y=f[(d="^"===a&&(-1!==o||""===l)||"else"===p?"E":a).charAt(0)]||"I","#>"===a&&(u.unshift("@"+p),c.unshift("@"+l)),"E"===d&&(l=l.replace(v,"")),x="/"===a?{tag:"C",text:i,vars:l}:A(e,l,a,n[s],y,i),"^"===a&&"B"===y&&(x.alt=x.vars[0].orig),"#*"===a&&(x.isPartial=!0),r=z(e,r,x,n[s]),"C"===y&&(r[r.length-1].isPartial||u[0])&&(x=r.splice(-1,1,u[0]?A(e,c[0],">",n[s],"I",x.text):{text:x.text})[0],(g=x.children[0]).children.unshift({text:g.text}),e.registerPartial(u[0]||x.vars[0].value,g.bodyFn),u.shift(),c.shift()));var k,E,F,m,S,w;if(r.parent)throw"Schnauzer Error: Missing closing tag(s)";return n=t=null,M(e,{children:r})}(this,t,[]));for(var r in e)this.registerPartial(r,e[r])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){n(this,e)},escapeExpression:function(e){return x(this,e,!0)}},f;function n(e,t){var r=function(e){for(var t=e.length;t--;)e[t]="("+(t?"~*":"")+(t?"":"\\\\*")+e[t]+(t?"":"~*")+")";return e}("{{"===t[0]?["{{2,3}","}{2,3}"]:t);e.regexps={tags:new RegExp(r[0]+"([#^/!>*-]*)\\s*(.*?)\\s*"+r[1]),entity:new RegExp("["+v(e.options.entityMap).join("")+"]","g")}}function x(t,e,r){return null==e?"":e.constructor===f.SafeString?e.string:r&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function E(e,t,r,n,s,a,l){var i=e.options.limitPartialScope?void 0:l.length-2;return n?{"@index":t,"@number":t+1,"@key":r,"@odd":t%2!=0,"@last":t===n-1,"@first":0===t,"@length":n,"@depth":i,"@parent":a,"@root":l[l.length-1].scope,this:s,".":s}:{"@parent":a,"@root":l[l.length-1].scope,this:s,".":s}}function b(e,t,r){var n=e.scopes,s=e.alias?[e.alias]:[],a=k(n[0].level,s),l=e.values,i=n[1]?y({},n[1].alias):{};return e.alias=null,e.values=null,r=r?y(i,r):i,e.scopes=k(n,[{scope:t,helpers:n[0].helpers,level:a,values:l,alias:r}]),function(){e.scopes=n}}function g(e,t){var r=e.scope;return e.scope=t||{},function(){e.scope=r}}function d(e,t,r){if("."===t.value||"this"===t.value)return{value:e,variable:t};if("key"!==t.type)return{value:t.value,variable:t};for(var n="@root"===t.path[0]?1:0,s=t.path.length;n<s;n++)if(!(e=e[t.path[n]]))return{variable:t};return{value:e[t.value],parent:e,variable:t,alias:r||!1}}function F(e,t,r,n){for(var s=0,a=e.length,l=r.helpers;s<a;s++)if(void 0!==(n=d(e[s],t,!0)).value)return(r=r.alias[n.variable.value])&&(n.parent=r.parent,n.key=r.key,l["@length"]&&(n.helpers=l)),n;return{variable:t}}function m(e,t,r,n,s){void 0!==s.value&&void 0!==n&&(r[e]||(r[e]={}),r[e][n]=s.value,t&&(t.alias[n]={parent:s.parent,key:s.variable.value}))}function S(t,r,n,e){var s=n.vars,a=!!t.options.renderHook;if(!s)return e;for(var l,i=0,o=s.length,p={},u={},c={},h=[];i<o;i++)(u=(p=s[i]).path&&"@root"===p.path[0]?r.scopes[r.scopes.length-1]:r.scopes[p.depth||0])&&(void 0===(c={value:u.helpers[p.value],variable:p,helpers:u.helpers,parent:l="@"===(p.value+"").charAt(0)?u.helpers:u.scope}).value&&u.values&&(c=F([u.values],p,u,c)),void 0!==c.value||p.isStrict||(c=F(u.level,p,u,c)),void 0===c.value&&(c=p.helper?{value:B(t,h=S(t,r,p,[]),r,p)}:d(u.scope,p)),void 0===c.value&&r.extra&&(c=d(r.extra,p)),void 0===c.value&&l&&(c.parent=u.helpers),p.alias&&m("alias",a&&u,r,p.alias[0],c),p.name&&m("values",a&&u,r,p.name,c),c.type=c.value&&c.value.constructor===Array?"array":typeof c.value,c.variable||(c.variable=p),a&&p.helper&&(c.renderArgs=h),a&&t.controls.loop[0]&&(c.loop=t.controls.loop[0])),e.push(c);return a&&n.helper&&!n.tag&&(n.renderFn=function(e){return B(t,e,r,n)}),e}function w(e,t,r){var n=e.value,s="object"===e.type;return"each"!==t&&"with"!==t&&("array"!==e.type||"if"!==t&&"unless"!==t)||void 0===n?n:(s&&(r.keys=v(n)),s?r.keys.length&&n:n.length&&n)}function B(e,t,r,n,s){var a,l,i,o,p,u=!n.helper&&n.children&&(t[0]?H:void 0)||n.helperFn,c=[],h=r.scopes[0].values;return u?u(e,t,r,n,s):(l=e,i=n,o=r.scopes[i.helper.depth||0].scope,p=l.helpers[i.helper.orig],(u=i.helperFn||(i.helper.isStrict||!p?d(o,i.helper).value:p))||1!==t.length||"function"!==t[0].type||(u=t.shift().value),r.values&&(r.scopes[0].values=r.values),t.length&&c.push(function(t,r,e,n,s,a){var l=null,i=e.helper?e.helper.orig:"",o=r.scopes[0].helpers,p=e.children,u={name:i,hash:{},data:{root:o["@root"],scope:o.this,parent:o["@parent"],depth:o["@depth"]},escapeExpression:function(e){return t.escapeExpression(e)},SafeString:f.SafeString,keys:v,extend:y,concat:k,getDataDetails:function(){return n}};o["@length"]&&y(u.data,{index:o["@index"],number:o["@number"],length:o["@length"],first:o["@first"],last:o["@last"],key:o["@key"],odd:o["@odd"]});for(var c=n.length;c--;)n[c].variable.name?u.hash[n[c].variable.name]=n[c].value:s.unshift(n[c].value);return p&&(u.fn=function(e){return a.fnIdx=0,a.checkFn&&a.checkFn(0),l=g(r.scopes[0],e),[p[0].text+p[0].bodyFn(r),l()][0]},u.inverse=p[1]&&function(e){return a.fnIdx=1,a.checkFn&&a.checkFn(1),l=g(r.scopes[0],e),[p[1].text+p[1].bodyFn(r),l()][0]}||function(){return""}),u}(e,r,n,t,c,s)),a=u?u.apply(r.scopes[0].scope,c):"",r.scopes[0].values=h,void 0===a?"":a)}function H(e,t,r,n,s){for(var a=0,l={keys:[]},i=n.children,o=i[a],p=n.helper,u="if"===p||"each"===p||"with"===p,c=!p&&1===t.length,h=t[0]||{},v=w(h,p,l),f=(u||c)&&v||"unless"===p&&!v,g=null;i[a+1]&&!f;)u="if"===(p=(o=i[++a]).helper)||"each"===p||"with"===p,t=o.vars.length?S(e,r,o,[]):[],c=!p&&1===t.length,v=w(h=t[0]||{},p,l),f=(u||c)&&v||"unless"===p&&!v||!p&&!t.length&&o.bodyFn;if(s.fnIdx=f?a:a+1,s.checkFn&&s.checkFn(a),c&&"array"===h.type&&(p="each"),e.controls.stop&&"each"===p)return"";if(c&&!p&&(p="with"),"with"===p||"each"===p){if(g=b(r,v,"with"===p&&r.scopes[0].alias),"each"===p)return function(r,n,s,a,l,e,i,t){var o=l.bodyFn,p=a.scopes[0],u=s.variable.alias,c=p.level[0],h="array"===s.type,v=h||"object"===s.type?h?n:e:[],f=i?k([],a.scopes):null,g=i&&s.variable.active&&function(e,t){return r.controls.loop.unshift(p.helpers),a.scopes=f,a.scopes[0].scope=e,a.scopes[0].helpers=s.helpers=E(r,t,t,s.value.length,e,n,a.scopes),[i(r,l.text+o(a),s,+t,g,!0),r.controls.loop.shift()][0]};u&&i&&(p.alias[u[0]]={parent:n});i&&r.controls.loop.unshift(null);for(var d=0,y=v.length,x="",b="";d<y;d++)x=h?d:v[d],p.helpers=E(r,d,x,y,n[x],n,a.scopes),p.scope=n[x],u&&(u[1]&&(c[u[1]]=x),c[u[0]]=n[x],i&&(p.alias[u[0]].key=x)),i&&(r.controls.loop[0]=p.helpers),b+=g?i(r,(i(r,x,s),l.text+o(a)),s,d,g):l.text+o(a);return[b,t(),i&&r.controls.loop.shift()][0]}(e,v,h,r,o,l.keys,e.options.loopHelper,g);r.scopes[0].helpers=E(e,"","",0,c?v:r.scopes[0].scope,r.scopes[1].scope,r.scopes)}return[f?o.text+o.bodyFn(r):"",g&&g()][0]}function P(n,s,e,a,t,l,i){return s.values=null,n.options.renderHook&&"B"===a.tag&&(s={extra:s.extra,scopes:s.scopes,alias:s.alias}),n.options.renderHook&&e.length&&!n.controls.active?n.options.renderHook(n,t,e,function(e,t,r){return t&&(s.scopes[0].helpers=t),e[0].parent&&(s.scopes[0].scope=e[0].parent),r&&(n.controls.stop=r),[l(n,a,e,s,i||{fnIdx:0}),n.controls.stop=!1,n.controls.active=!0][0]},a,"B"===a.tag?i||{fnIdx:0}:void 0,a.children&&a.children[1]&&"E"===a.children[1].tag?function(e){return S(n,s,e,[])}:null):t}function I(e,t,r,n){var s,a,l,i,o,p,u,c,h,v,f,g,d=r[0]&&r[0].type;return P(e,n,r,t,t.partial?(s=e,a=r,l=n,o=(i=t).partial.vars&&S(s,l,i.partial,[]),p=i.partial.helper&&B(s,o,l,i.partial),u=i.partial.orig||o&&(p||o[0].value)||"",h=!(c="@partial-block"===u)&&"@"===u.charAt(0),v=s.partials[h?u.substring(1):u],f=a[0]&&!a[0].variable.name?a[0].value:l.scopes[0].scope,g=b(l,f,l.scopes[0].alias),l.scopes[0].level=[],!v&&h&&(v=s.partials[u]),h?f.partialBlock=s.partials[u]:c&&(v=f.partialBlock),s.options.limitPartialScope?l.scopes=[l.scopes[0]]:l.scopes.splice(1,1),[v?v(l):"",g()][0]):x(e,t.helper||"function"===d?B(e,r,n,t):r[0]&&r[0].value,"boolean"!==d&&"number"!==d&&t.isEscaped),I,null)}function i(e,t,r,n,s){var a=s||{fnIdx:0},l=B(e,r,n,t,a);return s?l:P(e,n,r,t,l,i,a)}function O(e,t,r){var n,s,a=!1,l=e.replace(/@parent[/.]/,"../").replace(/\[.*?]/g,function(e){return e.substring(1,e.length-1).replace(/\./g,function(){return a=!0,"^"})}),i=r?[]:l.split("../"),o=i[1]?i[0]:"",p=i.length-1,u=r?l:i[p];if(r||"."===u||"this"===u||+u==u)return{value:u,path:[],depth:p,type:"key"};if(i=(n=u,s=t,n.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(s.isStrict=!0),""})).split(/[./]/),a){for(var c=i.length;c--;)i[c]=i[c].replace(/\^/g,".");l=l.replace(/\^/g,".")}return{value:o+i.pop(),path:i,depth:p,orig:l}}function j(e,t,r){for(var n=e.length,s=[];n--;)s.unshift(e[n].value);if(r)for(;s.length;)t[t.length-s.length].name=s.shift();else t[t.length-1].alias=s}function o(e,t,r,n){for(var s,a="string"===n?[e]:e.split(/[,;]*\s+[,;]*/),l="alias"===n||"string"===n,i=0,o=a.length,p=/--(\d+)--/,u=/%+/,c="",h=[],v="",f={},g={},d=!1;i<o;i++)if(""!==(v=void 0!==(h=a[i].split("="))[1]?h[1]:h[0])&&"as"!==v){if("object"===(c=typeof(f=t[(v.match(p)||[])[1]]||{value:v,type:"key"}).value)&&f.value[0]&&f.value[0].single)return f.value;void 0!==h[1]&&(f.name=h[0]),"string"===f.type?f.value=f.value[0]&&f.value[0].value||"":f.value&&"string"===c&&(f.value=f.value.replace(u,function(e){return f.active=e.length,""}),g=O(f.value,f,l),d=l||g.orig&&g.orig!==g.value,f.value=(s=g.value,d?s:"true"===s||"false"!==s&&(isNaN(s)||""===s?s:+s)),"string"!==(c=typeof f.value)?f.type=c:g.path&&!l&&y(f,g)),"alias"===f.type?j(f.value,r,3<i):r.push(f)}return r}function A(e,t,r,n,s,a){var l=t?function(n,s){var e=/\([^()]*\)/g,t=function(e){var t={vars:o(e.substring(1,e.length-1),s,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(s.push(t)-1)+"--"};for(n=n.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var r={type:"|"!==t?"string":"alias",value:""};return-1!==n.indexOf("["+t)||-1!==n.indexOf(t+"=")?e:(r.value=e===n?[{value:e.substring(1,e.length-1),path:[],depth:0,single:!0,type:"key"}]:o(e.substring(1,e.length-1),s,[],r.type),"--"+(s.push(r)-1)+"--")});n!==(n=n.replace(e,t)););return o(n,s,[],"")}(t,[]):[],i="^"===r?"unless":/^(?:if|each|with|unless)$/.test((l[0]||{}).value)?l.shift().value:"";return{partial:">"===r?l.shift():void 0,helper:i||(">"!==r&&1<l.length?l.shift():""),helperFn:i?H:void 0,isEscaped:n.lastIndexOf(e.options.tags[0])<1,bodyFn:null,vars:l,isInline:"B"!==s,tag:s,text:a,children:null}}function M(t,r){return r.bodyFn="B"===r.tag?void 0:function(e){return function(e,t,r){for(var n=0,s=t.length,a="";n<s;n++)a+=("B"===t[n].tag?i:I)(e,t[n],S(e,r,t[n],[]),r)+t[n].text;return a}(t,r.children,e)}}function z(r,n,e,s){var t='Schnauzer Error: Wrong closing tag: "/'+e.vars+'"',a=n.parent,l=[],i=function(e,t){e.children=l=[],l.parent=n,n=l,t&&(n.push(A(r,"","",s,"",e.text)),i(n[n.length-1]),n.isElse=!0)},o=function(){delete n.parent,delete n.isElse,a=(n=a).parent,M(r,n[n.length-1])};if("C"===e.tag){if(!n.parent)throw t;if(n.isElse&&o(),o(),n.lastBlock!==e.vars)throw t;delete n.lastBlock,n[n.length-1].text=e.text}else"B"===e.tag?(n.push(e),n.lastBlock=e.alt||e.helper.value||e.helper||e.vars[0].orig,i(e,!0)):"E"===e.tag?(n.isElse&&o(),n.push(e),i(e),n.isElse=!0):n.push(e);return n}});