/**! @license schnauzer v1.5.0; Copyright (C) 2017-2020 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t()}):e.Schnauzer=t()}(this&&this.window||global,function(e,y){"use strict";function t(e,t){this.version="1.5.0",this.partials={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,renderHook:null},r(this,t||{},e)}var f=function(e){return!!e&&e.constructor===Function},b=Array.isArray||function(e){return!!e&&e.constructor===Array},d=Object.keys||function(e){var t,r,n=[];for(var s in e)t=s,r=n,e.hasOwnProperty(t)&&r.push(t);return n},p=function(e,t){var r,n;for(var s in e)r=e,t[n=s]=r[n];return t},i=function(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t},r=function(e,t,r){for(var n in t)e.options[n]=t[n];for(var s in a(e,(t=e.options).tags),e.entityRegExp=new RegExp("["+d(t.entityMap).join("")+"]","g"),e.helpers=t.helpers,t.partials)e.registerPartial(s,t.partials[s]);r&&e.parse(r)};return t.prototype={render:function(e,t){return this.partials[this.options.self]({extra:t||{},scopes:[{scope:r=e,helpers:{},level:{"@root":r}}]});var r},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){return this.partials[e]=this.partials[e]||(f(t)?t:function u(p,e,c){var t=function(e,t,r,n,s,i,a,o,l){return"#*"===r?p.registerPartial(s.replace(/['"]/g,""),u(p,a,c))&&"":K(p,c,t,i,l,a,r,n,s)};for(;e!==(e=e.replace(p.sectionRegExp,t)););return L(p,e,c,[],[])}(this,t,[]))},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){a(this,e)}},t;function a(e,t){var r="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,n=e.options.nameCharacters+"!-;=?@[-`|",s=(r[0]+"\\/\\3"+r[1]).replace(/[()]/g,"");e.inlineRegExp=new RegExp(r[0]+"([>!&=])*\\s*([\\w\\"+n+"<>|\\.\\s]*)"+r[1],"g"),e.sectionRegExp=new RegExp(r[0]+"([#^][*%]*)\\s*([\\w"+n+"~]*)(?:\\s+([\\w$\\s|./"+n+"]*))*"+r[1]+"((?:(?!"+r[0]+"[#])[\\S\\s])*?)("+s+")","g"),e.elseSplitter=new RegExp(r[0]+"(?:else|\\^)\\s*(.*?)"+r[1])}function c(e,t,r){return r&&t.options.escapeHTML?String(e).replace(t.entityRegExp,function(e){return t.options.entityMap[e]}):e}function x(e,t,r,n,s){return t={scope:t,helpers:r,level:n},s?(e[0]=t,e):i(e,[t])}function S(e,t){for(var r=0,n=t.path.length;r<n;r++)if(!(e=e[t.path[r]]))return;return e[t.value]}function h(e,t,r){var n,s,i,a,o=r.root,l=o.variable,u=t.scopes&&t.scopes[l.parentDepth]||{},p=u.scope||{},c=l.value,f=!o.isStrict&&!o.isString&&e.helpers[c]||null,h=r.isPartial&&e.partials[c]||null,v="",g=l.root?(n=e,s=t,a=(i=o).variable.root,m(n,{key:a,value:n.helpers[a],type:"helper"},s,{vars:i.variable.vars},null)):o.isString&&l.name||l.isLiteral?c:(v=S(u.level||{},l))!==y||(v=S(u.helpers||{},l))!==y||(v=S(p,l))!==y?v:f||h||(p[c]!==y?p[c]:S(t.extra,l));return{value:g,type:g===y?"":f?"helper":h?"partial":"object"==typeof g?"object":"literal"}}function m(e,t,r,n,s){return"helper"===t.type||f(t.value)?g(e,t,r,n,[{bodyFn:s}]):t.value}function v(e,t,r,n,s,i,a){for(var o=n.length,l={},u="",p=null,c="";o--;)u=(p=(c=(l=n[o]).variable).root?m(e,t,r,c,null):null)||!c.name?"$"+o:c.name,c.name&&(a[u]=s[u]),s[u]=p||h(e,r,{root:l}).value,i.push(s[u]),l.isAlias&&(r.scopes[0].level[u]=s[u]);return{obj:s,arr:i,restore:a}}function k(e,t,r,n,s){return e.root.isAlias&&(r[t.name||t.value]=s,n!==y&&(r[e.root.aliasKey||"@key"]=n)),r}function g(t,e,r,n,s){return e.value.apply({name:e.key,scope:r.scopes[0].scope,rootScope:r.scopes[r.scopes.length-1].scope,getBody:function(e){var t=e?1:0;return s[t]?s[t].bodyFn(r):""},getData:function(e){return h(t,r,{root:$(e)}).value},escape:function(e){return c(e,t,!0)}},v(t,e,r,n.vars,{},[],{}).arr)}function w(e,t,r,n,s){for(var i=0,a=s[i],o=!n.helper||"if"===n.helper,l=!1,u=m(e,t,r,n,a.bodyFn);!(l=o&&!!u||!o&&!u)&&s[i+1];)o=!(a=s[++i]).helper||"if"===a.helper,u=m(e,t=a.root?h(e,r,a):{value:o},r,a,a.bodyFn);return l?a.bodyFn(r):""}function E(e,t,r,n,s){for(var i,a,o,l,u,p="",c=b(t.value),f=c?t.value||[]:d(t.value||{}),h=0,v=f.length,g="";h<v;h++)g=c?h:f[h],r.scopes=x(r.scopes,t.value[g],(i=h,a=g,o=v,l=c?f[h]:t.value[g],u=t.value,{"@index":i,"@last":i===o-1,"@first":0===i,"@length":o,"@parent":u,"@key":a,this:l,".":l}),k(n,n.root.variable,{},g,t.value[g]),!!h),p+=s[0].bodyFn(r);return r.scopes.shift(),p}function A(e,t,r,n,s){var i=n.root.variable,a=r.scopes[0],o=p({".":t.value,this:t.value},a.level);return r.scopes=x(r.scopes,t.value,{"@parent":a.scope},k(n,i,o,y,t.value),!1),[s[0].bodyFn(r),r.scopes.shift()][0]}function F(e,t,r,n,s,i){return e.options.renderHook?e.options.renderHook.call(e,i,n,r,t,s):i}function R(e,t,r,n){return F(e,t,r,n,!1,t.value===y?"":n.isPartial?(s=e,i=t,o=n,l=(a=r).scopes[0].helpers,u=v(s,i,a,o.vars,l,[],{}),[i.value(a),p(u.restore,l)][0]):c("helper"===t.type||f(t.value)?g(e,t,r,n,[]):t.value,e,n.isEscaped));var s,i,a,o,l,u}function P(e,t,r){var n=t||r?t?r?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return n?e.replace(new RegExp(n,"g"),""):e}function H(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function n(e,t){return'"'===e.charAt(0)||"'"===e.charAt(0)?(t.isString=!0,e.substr(1,e.length-2)):(/\.|\|/.test(e)&&(t.isStrict=!0),"true"===e||"false"!==e&&(isNaN(e)||""===e?e:+e))}function O(e,t){return e.replace(/^(?:this[/.]|\.\/)/,function(e){return e&&(t.isStrict=!0),""}).replace(/[[\]|]/g,"")}function j(e){return"%"===e.charAt(1)?2:"%"===e.charAt(0)?1:0}function M(e,t){return e&&e.replace(/\(.*?\)|(?:\S*?"(?:\\.|[^\"])*\")|\S+/g,function(e){e&&t.push(e)}),t}function s(e,t,r){var n="string"==typeof e,s=n&&!("."===e)&&!r,i=s?e.split("../"):[],a=s?i.pop().split(/[.\/]/):[e];return"@"===i[0]&&(a[i.length-1]=i[0]+a[i.length-1]),n?{name:t,value:a.pop(),path:a,parentDepth:i.length}:{name:t,value:e,isLiteral:!0,path:[]}}function $(e){var t=[],r={variable:{},isAlias:!1,aliasKey:"",isString:!1,isStrict:!1,active:0};return"("===(e=O(e,r).substr(r.active=j(e))).charAt(0)?{variable:{root:(t=M(e=e.substr(1,e.length-2),[])).shift(),vars:D(t,[],{}),path:[]}}:(t=e.split("="),r.variable=t[1]?s(n(t[1],r),t[0],r.isString):s(n(t[0],r),"",r.isString),r)}function D(e,t,r){for(var n=0,s=e.length,i=r||{};n<s;n++)"as"!==e[n]?(i=$(e[n]),t.push(i)):(a=i,l=++n,u="","|"===(o=e)[l]&&l++,u=-1!==(u=o[l+1]||"").indexOf("|")||"|"===o[l+2]?O(u):"",a.variable.name=O(o[l]),a.aliasKey=u,a.isAlias=!0,u&&l++,"|"===o[l+1]&&l++,n=l);var a,o,l,u;return t}function I(e,t,r,n,s,i){var a=M(t+(r?" "+r:""),[]),o=a.shift()||"",l=/^(?:if|each|with|unless)$/.test(o)?o:"",u=j(o=l?a.shift()||"":o);return i&&!o?{bodyFn:i}:{root:o=$(o.substr(u)),isPartial:">"===n,isEscaped:s.lastIndexOf(e.options.tags[0])<1,helper:"^"===n?"unless":l,vars:D(a,[],o),active:u,bodyFn:i||null}}function L(t,e,r,n,s){for(var i=e.split(t.inlineRegExp),a=0,o=i.length,l="",u=[];a<o;a+=5)i[2+a]&&/^(?:!|=)/.test(i[2+a])||(l=i[3+a]||"",u=H(a?i[4+a-5]:"",l?i[1+a]:""),s.push(P(i[a],u[0],u[1])),l&&n.push(-1!==l.indexOf("-block-")?{blockIndex:+l.substr(8)}:I(t,l,"",i[2+a]||"",i[1+a],null)));return function(e){return function(e,t,r,n,s){for(var i=0,a=r.length,o="";i<a;i++)o+=r[i],t[i]&&(o+=-1<t[i].blockIndex?n[t[i].blockIndex](s):R(e,h(e,s,t[i]),s,t[i]));return o}(t,n,s,r,e)}}function K(l,e,t,r,n,s,i,a,o){var u=n.split(a),p=I(l,a,o,i||"",t,null),c=function(e,t,r,n,s,i){for(var a=0,o=t.length,l=!1,u=[];a<o;a+=4)l=u[1]!==y?u[1]:s[0],u=t[1+a]?H(t[1+a],t[3+a]):[s[1]],i.push(I(e,t[2+a-4]||"","","",0!==a?t[1+a-4]||"":n,L(e,P(t[a],l,u[0]),r,[],[])));return i}(l,s.split(l.elseSplitter),e,t,H(r,u[0]),[]);return e.push(function(e){return s=c,i=h(t=l,n=e,r=p),a=r.helper,o="if"===a||"unless"===a,F(t,i,n,r,!0,("helper"===i.type||f(i.value)&&!a?g:o||i.value===y?w:"with"===a||!a&&!b(i.value)?A:E)(t,i,n,r,s));var t,r,n,s,i,a,o}),t+"-block- "+(e.length-1)+u[1]}});