/**! @license schnauzer v1.6.4; Copyright (C) 2017-2021 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this&&this.window||global,function(e,k){"use strict";var g=Object.keys||function(e){var t,n,r=[];for(var s in e)t=s,n=r,e.hasOwnProperty(t)&&n.push(t);return r},d=function(e,t){var n,r;for(var s in t)n=t,e[r=s]=n[r];return e},y=function(e,t){for(var n=0,r=e.length;n<r;n++)t[t.length]=e[n];return t},x=function(e,t){this.version="1.6.4",this.partials={},this.helpers={},this.regexps={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,renderHook:null},n(this,t||{},e)},n=function(t,e,n){for(var r in e=d(t.options,e),s(t,e.tags),t.regexps.entity=new RegExp("["+g(e.entityMap).join("")+"]","g"),t.helpers=e.helpers,e.partials)t.registerPartial(r,e.partials[r]);t.escapeExpression=function(e){return c(t,e,!0)},n&&t.parse(n)};return x.prototype={render:function(e,t){var n=b("","",0,k,null);return this.partials[this.options.self]({extra:t||{},scopes:[{scope:e,helpers:n,level:[{"@root":e}],values:null}]})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var n in e)this.helpers[n]=e[n]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function m(S,e,w){var t=function(e,t,n,r,s,a,i,l,o){return"#*"===n?S.registerPartial(s.replace(/['"]/g,""),m(S,i,w))&&"":(u=S,p=w,c=t,h=a,f=i,v=n,g=r,d=s,y=o.split(g),x=j(u,g+(d?" "+d:""),v||"",c,null),b=function(e,t,n,r,s,a){for(var i=0,l=t.length,o=!1,u=[];i<l;i+=4)o=u[1]!==k?u[1]:s[0],u=t[1+i]?M(t[1+i],t[3+i]):[s[1]],a.push(j(e,t[2+i-4]||"","",0!==i?t[1+i-4]||"":r,R(e,P(t[i],o,u[0]),n,[],[])));return a}(u,f.split(u.regexps.else),p,c,M(h,y[0]),[]),p.push(function(e){return H(u,x,e,b)}),c+"--block-- "+(p.length-1)+y[1]);var u,p,c,h,f,v,g,d,y,x,b};for(;e!==(e=e.replace(S.regexps.block,t)););return R(S,e,w,[],[])}(this,t,[]));for(var n in e)this.registerPartial(n,e[n])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)}},x.SafeString=function(e){this.string=e},x.SafeString.prototype.toString=x.SafeString.prototype.toHTML=function(){return""+this.string},x;function s(e,t){var n="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,r=e.options.nameCharacters+"!-;=?@[-`|",s=(n[0]+"\\/\\3"+n[1]).replace(/[()]/g,"");e.regexps.inline=new RegExp(n[0]+"([>!&=])*\\s*([\\w\\"+r+"<>|\\.\\s]*)"+n[1],"g"),e.regexps.block=new RegExp(n[0]+"([#^][*%]*)\\s*([\\w"+r+"<>~]*)(?:\\s+([\\w$\\s|.\\/"+r+"]*))*"+n[1]+"(?:\\n*)((?:(?!"+n[0]+"[#^])[\\S\\s])*?)("+s+")","g"),e.regexps.else=new RegExp(n[0]+"(?:else|\\^)\\s*(.*?)"+n[1])}function c(t,e,n){return e===k||null===e?"":e.constructor===x.SafeString?e.string:n&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function b(e,t,n,r,s){return{"@index":e,"@last":e===n-1,"@first":0===e,"@length":n,"@parent":s,"@key":t,this:r,".":r}}function m(e,t){var n=e.scopes,r=e.alias?[e.alias]:[],s=y(n[0].level,r),a=e.values||{};return e.alias=null,e.values=null,y(n,[{scope:t,helpers:{},level:s,values:a}])}function S(e,t,n){var r=e.scope;return e.scope=t||{},function(){e.scope=r}}function w(e,t,n){if("."===t.value||"this"===t.value)return e;if(!t.path)return t.value;for(var r=0,s=t.path.length;r<s;r++)if(!(e=e[t.path[r]]))return;return n?e:e&&e[t.value]}function v(e,t){for(var n=0,r=e.length,s="";n<r;n++)if((s=w(e[n],t))!==k)return s}function F(e,t,n){var r=[],s=n.vars,a={},i={},l=!1,o=!1;if(!n||!s)return[];!n.helper&&e.helpers[s[0].orig]&&(n.helper=s.shift());for(var u,p=0,c=s.length,h={},f={};p<c;p++)h=s[p],(u=(f=t.scopes[h.depth||0]||{scope:{},helpers:{},level:[]}).helpers[h.value])===k&&f.values&&(u=w(f.values,h)),u!==k||h.isStrict||(u=v(f.level,h)),u===k&&(u=h.helper?E(e,F(e,t,h),t,h):h.path||h.name||h.vars?w(f.scope,h):n.isInline?f.scope[h.value]:h.value),u===k&&(u=w(t.extra,h)),h.alias&&(a[h.alias[0]]=u,l=!0),h.name&&(i[h.name]=u,o=!0),r.push({value:u,alias:h.alias,type:u&&u.constructor===Array?"array":typeof u,name:h.name,level:h.name?h.path?""+u:h.value:k});return l&&(t.alias=a),o&&(t.values=i),r}function E(e,t,n,r,s,a){var i,l,o,u,p,c=n.scopes[(t[0]||{}).depth||0].scope,h=(i=e,l=r,o=n.scopes[l.helper.depth||0].scope,u=i.helpers[l.helper.orig],l.helperFn||(l.helper.isStrict||!u?w(o,l.helper):u)),f=!r.helper&&s&&(t[0]?I:k)||r.helperFn,v=[];return f?f(e,t,n,r,s,a):h||1!==t.length||"function"!==t[0].type?(n.alias&&(n.scopes[0].level.unshift(n.alias),delete n.alias),n.values&&(n.scopes[0].values=n.values,delete n.values),v.push(function(e,n,t,r,s,a){for(var i=null,l={name:t.helper?t.helper.orig:"",hash:{},blockParams:[],data:{root:n.scopes[n.scopes.length-1].scope},utils:{escapeExpression:e.escapeExpression,SafeString:x.SafeString,keys:g,extend:d,concat:y}},o=r.length;o--;)r[o].name?l.hash[r[o].name]=r[o].level:s.unshift(r[o].value);return a&&(l.fn=function(e,t){return i=S(n.scopes[0],e),[a[0].bodyFn(n),i()][0]},l.inverse=a[1]&&function(e,t){return i=S(n.scopes[0],e),[a[1].bodyFn(n),i()][0]}||function(){return""}),l}(e,n,r,t,v,s)),p=h?h.apply(c,v):"",n.scopes[0].level.shift(),delete n.scopes[0].values,p===k?"":p):t[0].value()}function I(e,t,n,r,s,a){for(var i=0,l=s[i],o=r.helper,u=/^(?:if|each|with)$/.test(o),p=!o&&1===t.length,c=t[0]||{},h=c.value,f=(u||p)&&h||"unless"===o&&!h,v=!1;s[i+1]&&!f;)o=(l=s[++i]).helper,u=/^(?:if|each|with)$/.test(o),t=l.vars.length?F(e,n,l):[],p=!o&&1===t.length,h=(c=t[0]||{}).value,f=(u||p)&&h||"unless"===o&&!h||!o&&!t.length&&l.bodyFn;if(a.fnIdx=i,p&&"array"===c.type&&(o="each"),p&&!o&&(o="with"),"with"===o||"each"===o&&h){if(v=!0,n.scopes=m(n,h),"each"===o)return function(e,t,n,r,s){for(var a=r.scopes[0],i=n.alias,l=a.level[0],o="array"===n.type,u=o||"object"===n.type?o?t:g(t):[],p=0,c=u.length,h="",f="";p<c;p++)h=""+(o?p:u[p]),a.helpers=b(p,h,c,t[h],t),a.scope=t[h],i&&(l[i[0]]=t[h],l[i[1]]=h),f+=s(r);return[f,r.scopes.shift()][0]}(0,h,c,n,l.bodyFn);n.scopes[0].helpers=b("","",0,p?h:n.scopes[0].scope,n.scopes[1])}return[f?l.bodyFn(n):"",v&&n.scopes.shift()][0]}function h(e,t,n,r,s,a,i,l,o){return e.options.renderHook?e.options.renderHook.call(e,a,n,r,t,s,o||{fnIdx:0},function(){return i(e,r,t,l,o||{fnIdx:0})}):a}function f(e,t,n){var r,s,a,i,l,o,u=F(e,n,t),p=u[0]&&u[0].type;return h(e,n,u,t,!1,t.partial?(r=u,s=n,a=t,i=e.partials[a.partial.orig],l=r[0].name?s.scopes[0].scope:r[0].value,o=s.scopes=m(s,l),s.scopes=[s.scopes[0]],[i?i(s):"",s.scopes=o,s.scopes.shift()][0]):c(e,t.helper||"function"===p?E(e,u,n,t):u[0]&&u[0].value,"boolean"!==p&&"number"!==p&&t.isEscaped),f,null)}function H(e,t,n,r,s){var a=F(e,n,t),i=s||{fnIdx:0},l=E(e,a,n,t,r,i);return s?l:h(e,n,a,t,!0,l,H,r,i)}function P(e,t,n){var r=t||n?t?n?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return r?e.replace(new RegExp(r,"g"),""):e}function M(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function O(e,t,n){var r,s,a=e.replace(/[[\]]/g,""),i=n?[]:a.split("../"),l=i[1]?i[0]:"",o=i.length-1,u=n?a:i[o];return n||"."===u||"this"===u?{value:u}:{value:l+(i=(r=u,s=t,r.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(s.isStrict=!0),""})).split(/[./]/)).pop(),path:i,depth:o,name:a}}function $(e,t,n){for(var r=e.length,s=[];r--;)s.unshift(e[r].value);if(n)for(;s.length;)t[t.length-s.length].name=s.shift();else t[t.length-1].alias=s}function o(e,t,n,r){for(var s,a="string"===r?[e]:e.split(/[,;]*\s+[,;]*/),i="alias"===r||"string"===r,l=[],o="",u={},p={},c=0,h=a.length;c<h;c++)if(""!==(o=(l=a[c].split("="))[1]!==k?l[1]:l[0])&&"as"!==o){if("object"==typeof(u=t[(o.match(/--(\d+)--/)||[])[1]]||{value:o}).value&&u.value[0].single)return u.value;l[1]!==k&&(u.name=l[0]),"string"===u.type?(u.value=u.value[0].value,delete u.type):u.value&&"string"==typeof u.value&&(u.value=u.value.replace(/%+/,function(e){return u.active=e.length,""}),p=O(u.value,u,i),u.value=(s=p.value,i||!p.path?s:"true"===s||"false"!==s&&(isNaN(s)||""===s?s:+s)),p.name&&(u.orig=p.name),"string"==typeof u.value&&p.path&&!i&&(u.path=p.path,u.depth=p.depth)),"alias"===u.type?$(u.value,n,3<c):n.push(u)}return n}function j(e,t,n,r,s,a){var i=t?function(r,s){for(r=r.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var n={type:"|"!==t?"string":"alias",value:""};return n.value=e===r?[{value:e.substring(1,e.length-1),path:[],depth:0,single:!0}]:o(e.substring(1,e.length-1),s,[],n.type),"--"+(s.push(n)-1)+"--"});r!==(r=r.replace(/\([^()]*\)/g,function(e){var t={vars:o(e.substring(1,e.length-1),s,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(s.push(t)-1)+"--"})););return o(r,s,[],"")}(t,[]):[],l="^"===n?"unless":/^(?:if|each|with|unless)$/.test((i[0]||{}).value)?i.shift().value:"";return{partial:">"===n?i.shift():"",helper:l||(">"!==n&&1<i.length?i.shift():""),helperFn:l?I:"",isEscaped:r.lastIndexOf(e.options.tags[0])<1,bodyFn:s||null,vars:i,isInline:a}}function R(t,e,n,r,s){for(var a=e.split(t.regexps.inline),i=0,l=a.length,o="",u=[];i<l;i+=5)a[2+i]&&/^(?:!|=)/.test(a[2+i])||(o=a[3+i]||"",u=M(i?a[4+i-5]:"",o?a[1+i]:""),s.push(P(a[i],u[0],u[1])),o&&r.push(-1!==o.indexOf("--block--")?{blockIndex:+o.substr(10)}:j(t,o,a[2+i]||"",a[1+i],null,!0)));return function(e){return function(e,t,n,r,s){for(var a=0,i=n.length,l="";a<i;a++)l+=n[a]+(t[a]?-1<t[a].blockIndex?r[t[a].blockIndex](s):f(e,t[a],s):"");return l}(t,r,s,n,e)}}});