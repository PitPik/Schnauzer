/**! @license schnauzer v1.2.0; Copyright (C) 2017-2018 by Peter Dematt√© */
!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return e(t)}):t.Schnauzer=e(t)}(this,function(t,v){"use strict";var e=function(t,e){this.version="1.2.0",this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},doEscape:!0,helpers:{},partials:{},recursion:"self",characters:'$"<>%-=@',splitter:"|##|"},r(this,e||{},t)},r=function(t,e,r){for(var n in e)t.options[n]=e[n];for(var i in e=t.options,t.entityRegExp=new RegExp("["+x(e.entityMap,[]).join("")+"]","g"),s(t,e.tags),t.partials={},e.partials)t.registerPartial(i,e.partials[i]);r&&t.registerPartial(e.recursion,r)},y=Array.isArray||function(t){return t&&t.constructor===Array},d=function(t){return t&&"function"==typeof t},x=Object.keys||function(t,e){for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};return e.prototype={render:function(t,e){return this.partials[this.options.recursion](t,e)},parse:function(t){return this.partials[this.options.recursion]||this.registerPartial(this.options.recursion,t)},registerHelper:function(t,e){this.options.helpers[t]=e},unregisterHelper:function(t){delete this.options.helpers[t]},registerPartial:function(t,e){return this.partials[t]=function(p,r){var t="",o=[],u=p.options.tags;for(;t!==r&&(t=r);)r=r.replace(p.sectionRegExp,function(t,e,r,n,i,s,a){return a=a.split(p.elseSplitter),o.push(c(p,[l(p,a[0],o),a[1]&&l(p,a[1],o)],n,i&&i.replace(/\|/g,"").split(/\s+/)||[],"{{{"===e,"^"===r)),u[0]+"-section- "+(o.length-1)+u[1]});return r=l(p,r,o),function(t,e){return r(m(t,e&&(y(e)&&e||[e])))}}(this,e)},unregisterPartial:function(t){delete this.partials[t]},setTags:function(t){s(this,t)}},e;function s(t,e){var r="{{"===e[0]?["{{2,3}","}{2,3}"]:e,n=t.options.characters;t.variableRegExp=new RegExp("("+r[0]+")([>!&=])*([\\w\\"+n+"\\.]+)\\s*([\\w"+n+"\\.\\s]*)"+r[1],"g"),t.sectionRegExp=new RegExp("("+r[0]+")([#^])([\\w"+n+"]*)(?:\\s+([\\w$\\s|./"+n+"]*))*("+r[1]+")((?:(?!\\1[#^])[\\S\\s])*?)\\1\\/\\3\\5","g"),t.elseSplitter=new RegExp(r[0]+"else"+r[1])}function i(t,e){for(var r=0,n=t.length;r<n;r++)e[e.length]=t[r];return e}function m(t,e,r,n){return{extra:e?i(e,t.extra&&t.extra||[]):t.extra||[],path:r?i(t.path,[r]):t.path||[t],helpers:n?i(t.helpers||[],r&&[n]||[{}]):t.helpers||[]}}function o(t,e){for(var r=0,n=e.length;r<n;r++)t=t&&t[e[r]];return t}function w(t,e,r,n){var i=t.path[n]||{},s=t.helpers[n]||{},a=s[e]!==v?s[e]:o(s,r);if(a!==v&&"."!==r[0]||(a=i[e]!==v?i[e]:o(i,r)),a!==v)return a;for(var p=t.extra.length;p--;){if(t.extra[p][e]!==v)return t.extra[p][e];if((a=o(t.extra[p],r))!==v)return a}}function E(t){var e=t.split(/\s*=\s*/),r=1<e.length?e[1]:e[0],n='"'===r.charAt(0)||"'"===r.charAt(0),i=0,s=[],a=[],p=!1;return n?r=r.replace(/(?:^['"]|['"]$)/g,""):(1<(a=r.split("../")).length&&(r=("@"===a[0]?"@":"")+a.pop(),i=a.length),name=name.replace(/^(?:\.|this)\//,function(){return p=!0,""}),s=r.split(/[\.\/]/),r=r.replace(/^\.\//,function(){return p=!0,s[0]=".",""})),{name:1<e.length?e[0]:r,value:r,isString:n,strict:p,keys:s,depth:i}}function k(t,e){return String(t).replace(e.entityRegExp,function(t){return e.options.entityMap[t]})}function R(e,r,n,t,i){return{getData:function(t){return(t=n.rawParts[t]||{value:t,keys:[t],depth:0}).isString?t.value:w(r,t.value,t.keys,t.depth)},escapeHtml:function(t){return k(t,e)},getBody:function(){return t&&t(r)||""},gatAltBody:function(){return i&&i(r)||""},data:r.path[0]}}function P(t,e,r,n){return e&&(t[e[0]]=n,t[e[1]]=r),t}function p(t,e,r,n,i){for(var s=t.options,a={},p={},o=e.length,u={};o--;)a[(u=E(e[o])).name]=u,p[e[o]]=u;return{name:r.name,vars:e,parts:a,rawParts:p,partial:">"===i&&(t.partials[r.name]||t.partials[s.recursion]),isUnescaped:!s.doEscape||"&"===i||n,depth:r.depth,strict:r.strict,keys:r.keys}}function l(c,h,f){var g=[],a=c.options.splitter;return h=h.replace(c.variableRegExp,function(t,e,r,n,i){var s=r&&r.charAt(0)||"";return"-section-"===n?(g.push({section:i}),a):"!"===s||"="===s?"":(i=i.split(/\s+/),g.push(p(c,i,E(n),"{{{"===e,s)),a)}).split(a),function(t){for(var e,r,n,i,s,a=0,p=h.length,o="";a<p;a++)if(o+=h[a],(s=g[a])!==v)if(s.section)o+=f[s.section](t)||"";else{if(s.partial){for(var u in i={},t.path[0])i[u]=t.path[0][u];for(var l in s.parts)n=s.parts[l],i[l]=n.isString?n.value:w(t,n.value,n.keys,n.depth);e=s.partial(m(i))}else e=w(t,s.name,s.keys,s.depth),e=(r=!s.strict&&c.options.helpers[s.name]||d(e)&&e)?r.apply(R(c,t,s),s.vars):e&&(s.isUnescaped?e:k(e,c));e!==v&&(o+=e)}return o}}function c(o,u,l,c,t,h){var f=l;l=E(!c.length||"if"!==l&&"each"!==l&&"with"!==l&&"unless"!==l?l:c.shift());var g="as"===c[0]&&[c[1],c[2]];return c=p(o,c,E(l.name),t,""),function(t){var e=w(t,l.name,l.keys,l.depth),r=y(e),n="each"===f&&!r&&"object"==typeof e&&e;if(e="unless"===f?!e:n?x(e,[]):e,r||n){if(h)return e.length?"":u[0](e);t.path.unshift({}),t.helpers.unshift({});for(var i=0,s=e.length,a="";i<s;i++)t.path[0]=r?e[i]:n[e[i]],t.helpers[0]=P({"@index":""+i,"@last":i===s-1,"@first":!i,".":t.path[0],this:t.path[0],"@key":r?i:e[i]},g,r?i:e[i],t.path[0]),a+=u[0](t);return t.path.shift(),t.helpers.shift(),a}var p=!l.strict&&o.options.helpers[l.name]||d(e)&&e;return p?p.apply(R(o,t,c,u[0],u[1]),c.vars):h&&!e||!h&&e?u[0]("unless"===f||"if"===f?t:m(t,v,e,P({".":e,this:e,"@key":l.name},g,l.name,e))):u[1]&&u[1](t)}}});