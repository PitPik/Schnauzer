/**! @license schnauzer v2.0.1; Copyright (C) 2017-2022 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t()}):e.Schnauzer=t()}(this&&this.window||global,function(){"use strict";var v=Object.keys||function(e){var t,r,n=[];for(var a in e)t=a,r=n,e.hasOwnProperty(t)&&r.push(t);return n},y=function(e,t){for(var r in t)n=t,e[a=r]=n[a];var n,a;return e},f=function(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t},g=function(e,t){this.version="2.0.1",this.partials={},this.helpers={},this.regexps={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,limitPartialScope:!0,collectPath:!1,loopHelper:null,renderHook:null},r(this,t||{},e)},r=function(t,e,r){for(var n in"string"!=typeof r&&(e=r,r=""),e=y(t.options,e),a(t,e.tags),t.helpers=e.helpers,e.partials)t.registerPartial(n,e.partials[n]);t.escapeExpression=function(e){return d(t,e,!0)},r&&t.parse(r)},e=g.SafeString=function(e){this.string=e};return e.prototype.toString=e.prototype.toHTML=function(){return""+this.string},g.getObjectKeys=v,g.cloneObject=y,g.concatArrays=f,g.prototype={render:function(e,t){var r=b("","",0,void 0,null,[{scope:e}]);return this.partials[this.options.self]({extra:t,scopes:[{scope:e,helpers:r,level:[],values:null,alias:{}}]})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var r in e)this.helpers[r]=e[r]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function(e,t,r){var n=t.split(e.regexps.tags),a={"#":"B","^":"B","/":"C",E:"E"};n[0]&&r.unshift({text:n[0]});for(var s=1,l="",i="",o="",p=0,u="",h="",c="",v="",f={},g=n.length;s<g;s+=5)l=n[1+s],i=n[2+s],d=n[4+s],y=n[3+s],x=n[5+s]||"",m=void 0,b=-1!==y.indexOf("~"),k=-1!==x.indexOf("~"),o=(m=b||k?b?k?"^\\s*|\\s*$":"^\\s*":"\\s*$":"")?d.replace(new RegExp(m,"g"),""):d,"\\"===n[s].substring(0,1)||/^[!-]+/.test(l)||(p=i.indexOf(" "),u="/"!==l&&i.substring(0,p)||i,v=a[(c="^"===l&&(-1!==p||""===i)||"else"===u?"E":l).substring(0,1)]||"I","#>"===l&&(h=u),"E"===c&&(i=i.replace(/^else\s*/,"")),f="/"===l?{tag:"C",text:o,vars:i}:M(e,i,l,n[s],v,o),"^"===l&&"B"===v&&(f.alt=f.vars[0].orig),"#*"===l&&(f.isPartial=!0),r=z(e,r,f,n[s]),"C"===v&&(r[r.length-1].isPartial||h)&&(h=h?"@"+h:"",(f=r.splice(-1,1,h?M(e,h,">",n[s],"I",f.text):{text:f.text})[0]).children[0].children.unshift({text:f.children[0].text}),e.registerPartial(h||f.vars[0].value,f.children[0].bodyFn),h=""));var d,y,x,b,k,m;if(r.parent)throw"Schnauzer Error: Missing closing tag(s)";return n=t=f=null,C(e,{children:r})}(this,t,[]));for(var r in e)this.registerPartial(r,e[r])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){a(this,e)}},g;function a(e,t){var r=function(e){for(var t=e.length;t--;)e[t]="("+(t?"~*":"")+(t?"":"\\\\*")+e[t]+(t?"":"~*")+")";return e}("{{"===t[0]?["{{2,3}","}{2,3}"]:t);e.regexps={tags:new RegExp(r[0]+"([#^/!>*-]*)\\s*(.*?)\\s*"+r[1])}}function d(t,e,r){return null==e?"":e.constructor===g.SafeString?e.string:r&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function b(e,t,r,n,a,s){return r?{"@index":e,"@number":e+1,"@key":t,"@last":e===r-1,"@first":0===e,"@length":r,"@parent":a,"@root":s[s.length-1].scope,this:n,".":n}:{"@parent":a,"@root":s[s.length-1].scope,this:n,".":n}}function x(e,t,r){var n=e.scopes,a=e.alias?[e.alias]:[],s=f(n[0].level,a),l=e.values||{},i=n[1]?y({},n[1].alias):{};return e.alias=null,e.values=null,r=r?y(i,r):i,e.scopes=f(n,[{scope:t,helpers:{},level:s,values:l,alias:r}]),function(){e.scopes=n}}function k(e,t){var r=e.scope;return e.scope=t||{},function(){e.scope=r}}function m(e,t,r){if("."===t.value||"this"===t.value)return{value:e,variable:t};if("key"!==t.type)return{value:t.value,variable:t};for(var n="@root"===t.path[0]?1:0,a=t.path.length;n<a;n++)if(!(e=e[t.path[n]]))return{variable:t};return{value:e[t.value],parent:e,variable:t,alias:r||!1}}function E(e,t,r,n){for(var a=0,s=e.length,l=r.helpers;a<s;a++)if(void 0!==(n=m(e[a],t,!0)).value)return(r=r.alias[n.variable.value])&&(n.parent=r.parent,n.key=r.key,l["@length"]&&(n.helpers=l)),n;return{variable:t}}function S(e,t,r,n,a){void 0!==a.value&&void 0!==n&&(r[e]||(r[e]={}),r[e][n]=a.value,t&&(t.alias[n]={parent:a.parent,key:a.variable.value}))}function B(t,r,e,n){var a,s,l,i,o,p,u=e.vars,h=!!t.options.renderHook;if(!u)return[];for(var c=0,v=u.length,f={},g={},d={},y=[];c<v;c++)(g=(f=u[c]).path&&"@root"===f.path[0]?r.scopes[r.scopes.length-1]:r.scopes[f.depth||0])&&(void 0===(d={value:g.helpers[f.value],variable:f,parent:g.helpers["@parent"],key:g.helpers["@key"],helpers:g.helpers}).value&&g.values&&(d=E([g.values],f,g,d)),void 0!==d.value||f.isStrict||(d=E(g.level,f,g,d)),void 0===d.value&&(d=f.helper?{value:w(t,y=B(t,r,f,[]),r,f)}:m(g.scope,f)),void 0===d.value&&r.extra&&(d=m(r.extra,f)),f.alias&&S("alias",h&&g,r,f.alias[0],d),f.name&&S("values",h&&g,r,f.name,d),d.type=d.value&&d.value.constructor===Array?"array":typeof d.value,d.variable||(d.variable=f),h&&(f.helper&&!f.name&&(d.helperFn=function(e){return w(t,e,{extra:r.extra,scopes:r.scopes},f)}),f.helper&&(d.helperFnArgs=y),t.options.collectPath&&(d.path=(a=r.scopes,s=g,l=f,i=e.tag,o=void 0,o=(a[1]||{}).path||[],p=void 0!==a[0].helpers["@length"]&&l.depth?l.depth+1:l.depth,s.path=o.slice(0,o.length-p),/^(?:\.|this)$/.test(l.value)||(s.path[s.path.length]=l.value),"I"===i?s.path:s.path.slice(0))))),n.push(d);return n}function F(e,t,r){var n=e.value,a="object"===e.type;return"each"!==t&&("array"!==e.type||"if"!==t&&"unless"!==t)||void 0===n?n:(a&&(r.keys=v(n)),a?r.keys.length&&n:n.length&&n)}function w(e,t,r,n,a){var s,l,i,o,p,u=!n.helper&&n.children&&(t[0]?P:void 0)||n.helperFn,h=[],c=r.scopes[0].values;return u?u(e,t,r,n,a):(l=e,i=n,o=r.scopes[i.helper.depth||0].scope,p=l.helpers[i.helper.orig],(u=i.helperFn||(i.helper.isStrict||!p?m(o,i.helper).value:p))||1!==t.length||"function"!==t[0].type||(u=t.shift().value),r.values&&(r.scopes[0].values=r.values),t.length&&h.push(function(e,t,r,n,a){var s=null,l=r.helper?r.helper.orig:"",i=t.scopes[0].helpers,o={name:l,hash:{},data:{root:i["@root"],scope:i.this,parent:i["@parent"]},escapeExpression:e.escapeExpression,SafeString:g.SafeString,keys:v,extend:y,concat:f,getDataDetails:function(){return n}};i["@length"]&&y(o.data,{first:i["@first"],last:i["@last"],number:i["@number"],index:i["@index"],key:i["@key"],length:i["@length"]});for(var p=n.length;p--;)n[p].variable.name?o.hash[n[p].variable.name]=n[p].value:a.unshift(n[p].value);return r.children&&(o.fn=function(e){return s=k(t.scopes[0],e),[r.children[0].text+r.children[0].bodyFn(t),s()][0]},o.inverse=r.children[1]&&function(e){return s=k(t.scopes[0],e),[r.children[1].text+r.children[1].bodyFn(t),s()][0]}||function(){return""}),o}(e,r,n,t,h)),s=u?u.apply(r.scopes[0].scope,h):"",r.scopes[0].values=c,void 0===s?"":s)}function P(e,t,r,n,a){for(var s=0,l={keys:[]},i=n.children[s],o=n.helper,p="if"===o||"each"===o||"with"===o,u=!o&&1===t.length,h=t[0]||{},c=F(h,o,l),v=(p||u)&&c||"unless"===o&&!c,f=null;n.children[s+1]&&!v;)p="if"===(o=(i=n.children[++s]).helper)||"each"===o||"with"===o,t=i.vars.length?B(e,r,i,[]):[],u=!o&&1===t.length,c=F(h=t[0]||{},o,l),v=(p||u)&&c||"unless"===o&&!c||!o&&!t.length&&i.bodyFn;if(a.fnIdx=s,u&&"array"===h.type&&(o="each"),u&&!o&&(o="with"),"with"===o||"each"===o&&c){if(f=x(r,c,"with"===o&&r.scopes[0].alias),"each"===o)return function(e,t,r,n,a,s,l,i){var o=a.bodyFn,p=n.scopes[0],u=r.variable.alias,h=p.level[0],c="array"===r.type,v=c||"object"===r.type?c?t:s:[],f=l&&function(e){return n.scopes[0].scope=e[0].parent,o(e)};u&&l&&(p.alias[u[0]]={parent:t});for(var g=0,d=v.length,y="",x="";g<d;g++)y=c?g:v[g],p.helpers=r.helpers=b(g,y,d,t[y],t,n.scopes),p.scope=t[y],u&&(u[1]&&(h[u[1]]=y),h[u[0]]=t[y],l&&(p.alias[u[0]].key=y)),e.options.collectPath&&e.options.renderHook&&(n.scopes[1].path[n.scopes[1].path.length-(g?1:0)]=""+y),x+=f?l(e,a.text+o(n),r,f,a):a.text+o(n);return[x,i()][0]}(e,c,h,r,i,l.keys,e.options.loopHelper,f);r.scopes[0].helpers=b("","",0,u?c:r.scopes[0].scope,r.scopes[1].scope,r.scopes)}return[v?i.text+i.bodyFn(r):"",f&&f()][0]}function H(t,r,e,n,a,s,l){return r.values=null,r.alias=null,t.options.renderHook&&"B"===n.tag&&(r={extra:r.extra,scopes:r.scopes}),t.options.renderHook&&e.length?t.options.renderHook(t,a,e,function(e){return r.scopes[0].scope=e[0].parent,s(t,n,e,r,l||{fnIdx:0})},n,"B"===n.tag?l||{fnIdx:0}:void 0):a}function O(e,t,r,n){var a,s,l,i,o,p,u,h,c,v,f,g=r[0]&&r[0].type;return H(e,n,r,t,t.partial?(a=e,s=r,l=n,o=(i=t).partial.vars&&B(a,l,i.partial,[]),p=i.partial.helper&&w(a,o,l,i.partial),u=i.partial.orig||o&&(p||o[0].value)||"",c=!(h="@partial-block"===u)&&"@"===u.substring(0,1),v=a.partials[c?u.substring(1):u],f=x(l,s[0]&&!s[0].variable.name?s[0].value:l.scopes[0].scope),!v&&c&&(v=a.partials[u]),c?l.partialBlock=a.partials[u]:h&&(v=l.partialBlock),a.options.limitPartialScope&&(l.scopes=[l.scopes[0]]),[v?v(l):"",f(),delete l.partialBlock][0]):d(e,t.helper||"function"===g?w(e,r,n,t):r[0]&&r[0].value,"boolean"!==g&&"number"!==g&&t.isEscaped),O)}function i(e,t,r,n,a){var s=a||{fnIdx:0},l=w(e,r,n,t,s);return(a?l:H(e,n,r,t,l,i,s))+t.text}function I(e,t,r){var n,a,s=!1,l=e.replace("@parent/","../").replace(/\[.*?]/g,function(e){return e.substring(1,e.length-1).replace(/\./g,function(){return s=!0,"^"})}),i=r?[]:l.split("../"),o=i[1]?i[0]:"",p=i.length-1,u=r?l:i[p];if(r||"."===u||"this"===u||+u==u)return{value:u,path:[],depth:p,type:"key"};if(i=(n=u,a=t,n.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(a.isStrict=!0),""})).split(/[./]/),s){for(var h=i.length;h--;)i[h]=i[h].replace(/\^/g,".");l=l.replace(/\^/g,".")}return{value:o+i.pop(),path:i,depth:p,orig:l}}function j(e,t,r){for(var n=e.length,a=[];n--;)a.unshift(e[n].value);if(r)for(;a.length;)t[t.length-a.length].name=a.shift();else t[t.length-1].alias=a}function o(e,t,r,n){for(var a,s="string"===n?[e]:e.split(/[,;]*\s+[,;]*/),l="alias"===n||"string"===n,i=0,o=s.length,p=/--(\d+)--/,u=/%+/,h="",c=[],v="",f={},g={},d=!1;i<o;i++)if(""!==(v=void 0!==(c=s[i].split("="))[1]?c[1]:c[0])&&"as"!==v){if("object"===(h=typeof(f=t[(v.match(p)||[])[1]]||{value:v,type:"key"}).value)&&f.value[0]&&f.value[0].single)return f.value;void 0!==c[1]&&(f.name=c[0]),"string"===f.type?f.value=f.value[0]&&f.value[0].value||"":f.value&&"string"===h&&(f.value=f.value.replace(u,function(e){return f.active=e.length,""}),g=I(f.value,f,l),d=l||g.orig&&g.orig!==g.value,f.value=(a=g.value,d?a:"true"===a||"false"!==a&&(isNaN(a)||""===a?a:+a)),"string"!==(h=typeof f.value)?f.type=h:g.path&&!l&&y(f,g)),"alias"===f.type?j(f.value,r,3<i):r.push(f)}return r}function M(e,t,r,n,a,s){var l=t?function(n,a){var e=/\([^()]*\)/g,t=function(e){var t={vars:o(e.substring(1,e.length-1),a,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(a.push(t)-1)+"--"};for(n=n.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var r={type:"|"!==t?"string":"alias",value:""};return-1!==n.indexOf("["+t)||-1!==n.indexOf(t+"=")?e:(r.value=e===n?[{value:e.substring(1,e.length-1),path:[],depth:0,single:!0,type:"key"}]:o(e.substring(1,e.length-1),a,[],r.type),"--"+(a.push(r)-1)+"--")});n!==(n=n.replace(e,t)););return o(n,a,[],"")}(t,[]):[],i="^"===r?"unless":/^(?:if|each|with|unless)$/.test((l[0]||{}).value)?l.shift().value:"";return{partial:">"===r?l.shift():void 0,helper:i||(">"!==r&&1<l.length?l.shift():""),helperFn:i?P:void 0,isEscaped:n.lastIndexOf(e.options.tags[0])<1,bodyFn:null,vars:l,isInline:"B"!==a,tag:a,text:s,children:null}}function C(t,r){return r.bodyFn="B"===r.tag?function(e){return i(t,r,B(t,e,r,[]),e)}:function(e){return function(e,t,r){for(var n=0,a=t.length,s="",l={};n<a;n++)l=B(e,r,t[n],[]),s+="B"===t[n].tag?i(e,t[n],l,r):O(e,t[n],l,r)+t[n].text;return s}(t,r.children,e)}}function z(r,n,e,a){var t='Schnauzer Error: Wrong closing tag: "/'+e.vars+'"',s=n.parent,l=function(e,t){e.children=[],e.children.parent=n,n=e.children,t&&(n.push(M(r,"","",a,"",e.text)),l(n[n.length-1]),n.isElse=!0)},i=function(){delete n.parent,delete n.isElse,s=(n=s).parent,C(r,n[n.length-1])};if("C"===e.tag){if(!n.parent)throw t;if(n.isElse&&i(),i(),n.lastBlock!==e.vars)throw t;delete n.lastBlock,n[n.length-1].text=e.text}else"B"===e.tag?(n.push(e),n.lastBlock=e.alt||e.helper.value||e.helper||e.vars[0].orig,l(e,!0)):"E"===e.tag?(n.isElse&&i(),n.push(e),l(e),n.isElse=!0):n.push(e);return n}});