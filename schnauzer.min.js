/**! @license schnauzer v3.0.3; Copyright (C) 2017-2025 by Peter Dematt√© */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(e):"function"==typeof define&&define.amd?define([],function(){return t(e)},"schnauzer"):"object"==typeof exports?exports.Schnauzer=t(e):e.Schnauzer=t(e)}(this&&this.window||global,function(e){"use strict";var a=e.console,y={start:/^\s+/,end:/\s+$/,whitespace:/\s+/},i=Object.keys||function(e){var t=[],r="";for(r in e)hasOwnProperty.call(e,r)&&t.push(r);return t},p=Object.assign||function(e,t){for(var r in t)n=t,e[a=r]=n[a];var n,a;return e},d=function(){throw"Schnauzer Error: Incorrect template"},t=function(e,t){this.version="3.0.3",this.partials={},this.exports={},this.helpers={lookup:c,log:n},this.regex={tags:null,entity:null},this.controls={partialBlocks:[]},this.options={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",escapeHTML:!0,limitPartialScope:!0,strictArguments:!0,loopHelper:null,renderHook:null,evaluationHook:null,dynamic:null},r(this,t||{},e,this.exports)},r=function(e,t,r,n){"string"!=typeof r&&(t=r,r=void 0),t=p(e.options,t),e.regex.tags=/({{2,3})([#~^/!>*-]*)\s*([^~}]*)([~}]{2,4})/,e.regex.entity=new RegExp("["+i(t.entityMap).join("")+"]","g"),e.helpers=p(e.helpers,t.helpers),e.registerPartial(t.partials),void 0!==r&&e.parse(r),t.dynamic&&(n.render=_,n.renderBlock=f,n.renderHelper=S,n.renderEach=P),delete t.helpers,delete t.partials},u=function(e){this.string=e};return u.prototype.toString=u.prototype.toHTML=function(){return""+this.string},t.extend=p,t.getKeys=i,t.prototype={render:function(e,t){var r=[{context:e,helpers:x([{context:e}],e),vars:{}}];return _(this,this.partials[this.options.self],{scopes:r,extra:t||{},$vars:{},$alias:{}})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var r in e)this.helpers[r]=e[r]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Array?t:function(e,t){for(var r=t.split(e.regex.tags),n=[{text:M(r[0],"",r[2])}],a="",s="",l=[],i="",o=!1,p=!1,u="",h={if:!0,unless:!0,each:!0,with:!0},c=[],f=e.options.strictArguments,v=1,g=r.length;v<g;v+=5)a=r[v],s=r[v+1].replace("~",""),"\\"!==r[v-1].slice(-1)?("^~"===s&&(s="^",r[v+3]+="~"),i=M(r[v+4],r[v+3],r[v+6]||""),"!"!==s[0]?(l=r[v+2].split(y.whitespace),o=-1!==s.indexOf(">"),p=-1!==s.indexOf("#"),"/"===s&&l[0]===c[0]||"#*"===s?n=N(e,c,n,l,i):("^"!==s||l[0]?"^"===s&&l.unshift("unless"):(s="",l=["else"]),n=E(n,"/"===s?{close:l[0],text:i}:{block:p||"^"===s,partial:o,alts:"else"===l[0]?!!l.shift()&&null:[],helper:u=h[l[0]]?l.shift():"",vars:L(l.join(" "),[],o,!!u,f),escape:a.lastIndexOf("{{")<1&&!o,text:p?"":i,children:p?[{text:i}]:[]}))):n.push({text:i})):z(r,n,v);n.__parent&&d();return n}(this,t));for(var r in e)this.registerPartial(r,e[r])},unregisterPartial:function(e){delete this.partials[e]}},t;function h(t,e,r){return null==e?"":e.constructor===u?e.toString():r&&t.options.escapeHTML?String(e).replace(t.regex.entity,function(e){return t.options.entityMap[e]}):e}function c(e,t){var r=e[t];return null==r?r:Object.prototype.hasOwnProperty.call(e,t)?r:void 0}function n(e){if(a){for(var t=0,r=arguments.length,n=[];t<r;t++)t===r-1?e=arguments[t]:n.push(arguments[t]);(a[e.hash.level]||a.log).apply(a,n)}}function m(e,t,r){var n=e.scopes[0],a={},s=p({},e.$vars);if(r)for(var l in n.$vars)s[l]=a[l]=n.$vars[l],n.vars[l]=void 0;if(n.$alias)for(var l in n.$alias)e.$alias.hasOwnProperty(l)||(e.$alias[l]=n.vars[l]);return p(s,e.$alias),e.scopes.unshift({context:void 0===t?{}:t,helpers:n.helpers,vars:s,$alias:e.$alias,$vars:e.$vars}),e.$vars={},e.$alias={},function(){e.scopes.shift(),r&&p(n.vars,a)}}function x(e,t,r,n,a,s){return s?{"@index":n,"@number":n+1,"@key":a,"@odd":n%2!=0,"@last":n===s-1,"@first":0===n,"@length":s,"@depth":0<=e.length-2?e.length-2:0,"@parent":e[1].context,"@root":e[e.length-1].context,this:t}:{"@parent":r,"@root":e[e.length-1].context,this:t}}function k(e,t,r,n){if(e.name){if("includeZero"===e.name)return n[0].zero=e.value;t.$vars[e.name]=r.value,"array"===r.type&&(t.$vars["__"+e.name]=e.value),r.alias=e.name}else for(var a=0,s=e.alias.length;a<s;a++)t.$alias[e.alias[a]]=n[a]?n[a].value:void 0}function b(e,t,r){var n=e.value,a=e.type,s="key"!==a&&"helper"!==a,l="this"===n,i=s||l;return e.path.length&&(t=$(e,t,{}).parent),{value:l?t:s?n:t&&t[n],type:s?a:void 0,parent:i?void 0:t,active:i||"helper"===a?0:e.active,key:s?"":n,alias:"",args:[],isLoop:r||!1,loopName:"",helper:e.enclosed}}function $(e,t,r,n){for(var a,s=0,l=e.path.length,i=n&&n.vars["__"+r.key];s<l;s++)if(!(t=t[e.path[s]]))return r;return void 0===(a=t[e.value])||(r.value=a,r.parent=t,i&&(r.loopName=i)),r}function O(e,t,r){for(var n,a,s,l,i=[],o={},p=null,u={},h={},c=null,f=!1,v="each"===t.helper,g=0,y=t.vars.length;g<y;g++)f=!!(o=t.vars[g]).name||!!o.alias.length,(p=r.scopes[o.depth])?((c=o.strict?null:e.helpers[o.value])&&"string"!==o.type&&(o.type="helper"),u="@"===o.value[0]||"@"===(o.path[0]||"")[0]?p.helpers:c?e.helpers:p.context,i.push(h=b(o,u,v)),"helper"===o.type&&(n=e,a=r,s=h,l=o,!g&&(l.helper=!0),s.args=O(n,{vars:l.args},a)),f&&void 0!==h.value||$(o,p.vars,h,p),void 0===h.value&&$(o,r.extra,h),h.type||(h.type=h.value&&h.value.constructor===Array?"array":typeof h.value),g||"array"!==h.type||t.helper||(h.isLoop=!0),f&&k(o,r,h,i)):i.push(b(o,u));return i}function H(e,t,r,n){var a="if"===r||"unless"===r,s="number"===e.type||"string"===e.type,l="object"===e.type&&null!==e.value;return n||(n={}),"array"===e.type?!!e.value.length:l?"each"!==r||!!(n.keys=i(e.value)).length:!(!e.zero||0!==e.value)||(!a&&s?void 0!==t:!!t)}function l(e,t,r,n){var a=r.scopes,s="",l=t[0],i=l.key||l.value,o=l.helper?S(e,n,l,r):i,p="@partial-block"===o,u=e.controls.partialBlocks,h=p?u[0]:n.children,c=p?null:e.partials[o],f=e.options.limitPartialScope,v=m(r,t[1]&&!t[1].alias?t[1].value:a[0].context,!c);return n.block&&c||(s=_(e,h,r)),n.block&&u.unshift(n.children),f&&(r.scopes=[a[0]]),c&&(s+=_(e,c,r)),f&&(r.scopes=a),n.block&&u.shift(),v&&v(),s}function w(e,t,r,n,a){var s,l=m(r,t);if(a&&a.data&&!a.SafeString)for(var i in a.data)r.scopes[0].vars["@"+i]=a.data[i];return s=_(e,n,r),l(),s}function P(e,t,r,n,a){for(var s="",l=r.value,i=e.options.loopHelper,o=m(t,l),p=t.scopes,u=p[0],h="array"===r.type,c=h?l:a.keys,f=n.vars[0].alias,v=0,g="",y=c.length;v<y;v++)i&&void 0===c[v]||(g=h?v:c[v],u.helpers=x(p,l[g],l,v,g,y),u.context=l[g],f[0]&&(u.vars[f[0]]=l[g]),f[1]&&(u.vars[f[1]]=g),s+=i?i(e,n,t,r,v):_(e,n.children,t));return o(),s}function S(e,t,r,n){var a=[],s=null,l=0,i=r.args.length,o=n.scopes[0].context;if(!r.value||!r.value.apply)return r.value;for(;l<i;l++)(s=r.args[l]).helper?a.push(S(e,t,s,n)):s.alias||a.push(s.value);return"$"!==r.key[0]&&"helper"===t.vars[0].type&&a.push(function(a,s,e,l){var t=l.scopes[0].helpers,i={name:e.key,data:{},hash:{},lookupProperty:c,createFrame:function(e){return p({},e)},escapeExpression:function(e){return h(a,e,!0)},SafeString:u},r=null;for(var n in t)"@"===n[0]&&void 0!==t[n]&&(i.data[n.substring(1)]=t[n]);for(var o=e.args.length;o--;)(r=e.args[o]).alias&&(i.hash[r.alias]=r.value);return s.block&&s.alts&&(i.fn=function(e,t){return w(a,e,l,s.children,t||i)},i.inverse=s.alts[0]?function(e,t){var r=s.alts,n=r[1]?p({},r[0]):null;return n&&(n.alts=r.slice(1),r=[n]),w(a,e,l,r,t||i)}:function(){return""}),i}(e,t,r,n)),r.value.apply(o,a)}function o(e,t,r,n){var a,s,l,i,o,p,u,h=t[0],c="unless"===n.helper,f=S(e,n,h,r),v={keys:[]},g=H(h,f,n.helper,v),y=n.alts,d=e.options.evaluationHook,x=d&&!h.isLoop&&"with"!==n.helper&&"helper"!==n.vars[0].type?d(y,h,g):null;if(g===c)for(var k=0,b=y.length;k<b&&(c="unless"===(n=y[k]).helper,f=n.helper?S(e,n,h=O(e,n,r)[0],r):_(e,n.children,r),x&&x(h,k),(g=H(h,f,n.helper))===c);k++);return"with"===n.helper&&f?w(e,f,r,n.children):h.isLoop&&f?P(e,r,h,n,v):x&&x()||g===c?n.alts||n.helper?"":n.text:(a=e,l=r,i=f,o=0!==(s=n).vars.length&&"helper"!==s.vars[0].type,p=o&&!s.helper?m(l,i):null,u=s.text,u+=s.helper||o?_(a,s.children,l):i,p&&p(),u)}function f(e,t,r,n){var a=e.options.renderHook,s=t.partial?l(e,n,r,t):o(e,n,r,t);return a?a(e,r,t,n,s):s}function v(e,t,r,n){var a=e.options.renderHook,s=t.partial?l(e,n,r,t):"function"===n[0].type?S(e,t,n[0],r):n[0].value;return s=h(e,s,t.escape),a&&(s=a(e,r,t,n,s)),s+t.text}function _(e,t,r){for(var n="",a={},s=0,l=t.length;s<l;s++)(a=t[s]).vars?n+=(a.block?f:v)(e,a,r,O(e,a,r)):n+=a.text;return n}function g(e,t,r){return!((e&&" "!==e||t&&" "!==t)&&")"!==t&&"="!==r)}function j(e,t,r,n){return t?(e.value=(s=e,"true"===(a=t)?(s.type="boolean",!0):"false"===a?!(s.type="boolean"):isNaN(a)||""===a?a:(s.type="number",+a)),"helper"!==e.type&&n.length?n[0].push(e):r.push(e),{active:0,alias:[],args:[],depth:0,name:"",helper:!1,path:[],strict:!1,type:"key",value:"",enclosed:!1}):e;var a,s}function L(e,t,r,n,a){for(var s={active:0,alias:[],args:[],depth:0,name:"",helper:!1,path:[],strict:!1,type:"key",value:"",enclosed:!1},l="",i="",o="",p="",u=!1,h=[],c=0,f=e.length;c<f;c++)if('"'===(i=e[c])||"'"===i)"\\"!==e[c-1]||'"'!==i&&"'"!==i?i===p?(g(o,e[c+1],o)&&(s.type="string",s=j(s,l,t,h),l=""),p=""):p?l+=i:(p=i,o=e[c-1]):l=l.substring(0,l.length-1)+i;else if(p)l+=i;else if("["===i||"]"===i)u="["===i;else if(u)l+=i;else if(-1===" a./@=()%|".indexOf(i))l+=i;else if("a"===i)" as "===e.substring(c-1,c+3)?c+=2:l+=i;else if(" "===i)s=j(s,l,t,h),l="";else if("."===i&&"../"===e.substring(c,c+3))s.depth++,s.strict=!0,c+=2;else if("/"===i||"."===i){if("."===i&&g(e[c-1],e[c+1])){s=j(s,"this",t,h);continue}l&&"this"!==l&&s.path.push(l),s.strict=!0,l=""}else"@"===i&&"@parent"===e.substring(c,c+7)?(-1!=="./".indexOf(e[c+7])?(s.depth++,s.strict=!0):l+="@parent",c+=6):"="===i?(s.name=l||t.pop().value,l=""):"("===i?(s.type="helper",s.enclosed=!0,h.unshift(s.args)):")"===i?(s=j(s,l,t,h),h.shift(),h.length&&h[0].push(t.pop()),l=""):"%"===i?s.active++:"|"===i?(c+=(l=(l=e.substring(c+1)).substring(0,l.indexOf(i))).length+1,t[t.length-1].alias=M(l,"~","~").split(" "),l=""):l+=i;if(h.length&&d(),j(s,l,t,h),r||!t.length)return t;if(n||(t[0].type="key"),t[1]&&"key"===t[0].type){if(t[0].type="helper",a)for(c=1,f=t.length;c<f;c++)"key"===t[c].type&&(t[c].strict=!0);t[0].args=t.splice(1)}return t}function z(e,t,r){var n=t[t.length-1],a=n.text;n.text=a.substring(0,a.length-1),t.push({text:e.slice(r,r+5).join("")})}function M(e,t,r){return-1!==t.indexOf("~")&&(e=e.replace(y.start,"")),r&&-1!==r.indexOf("~")?e.replace(y.end,""):e}function s(e,t){return t.children.__parent=e,t.children}function A(e){var t=e.__parent;return t||d(),delete e.__parent,t}function E(e,t){var r;return t.close?(function(e,t){for(var r=e.length;r--&&!e[r].alts;);return t===e[r].helper||t===e[r].block||t===e[r].vars[0].value}(e=A(e),t.close)||d(),e[e.length-1].partial&&((r=e[e.length-1]).children.unshift({text:r.text}),r.text=""),e.push({text:t.text})):t.block?(e.push(t),e=s(e,t)):t.alts?e.push(t):(t.block=!0,(e=A(e))[e.length-1].alts.push(t),e=s(e,t)),e}function N(e,t,r,n,a){var s={};return n[1]?(t.unshift(n[0]),E(r,{block:n[0],name:n[1].replace(/['"]/g,""),children:[],text:a,alts:[]})):((s=(r=E(r,{close:n[0],text:a})).splice(-2,1)[0]).children.unshift({text:s.text}),e.registerPartial(s.name,s.children),t.shift(),r)}});