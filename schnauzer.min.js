/**! @license schnauzer v1.3.0; Copyright (C) 2017-2018 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this,function(e,y){"use strict";var t=function(e,t){this.version="1.3.0",this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},doEscape:!0,helpers:{},decorators:{},partials:{},recursion:"self",characters:'$"<>%-=@',splitter:"|##|",tools:y,render:y},r(this,t||{},e)},r=function(e,t,r){for(var n in t)e.options[n]=t[n];for(var i in t=e.options,e.entityRegExp=new RegExp("["+x(t.entityMap,[]).join("")+"]","g"),s(e,t.tags),e.helpers=t.helpers,e.decorators=t.decorators,e.partials={},t.partials)e.registerPartial(i,t.partials[i]);r&&e.registerPartial(t.recursion,r)},v=Array.isArray||function(e){return e&&e.constructor===Array},m=function(e){return e&&"function"==typeof e},x=Object.keys||function(e,t){for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t};return t.prototype={render:function(e,t){return this.partials[this.options.recursion](e,t)},parse:function(e){return this.registerPartial(this.options.recursion,e)},registerHelper:function(e,t){this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerDecorator:function(e,t){this.decorators[e]=t},unregisterDecorator:function(e,t){delete this.decorators[e]},registerPartial:function(e,t){return this.partials[e]=this.partials[e]||function(o,r){var e="",p=[],u=o.options.tags;for(;e!==r&&(e=r);)r=r.replace(o.sectionRegExp,function(e,t,r,n,i,s,a){return"#*"===r?(o.registerPartial(i.replace(/(?:^['"]|['"]$)/g,""),a),""):(a=a.split(o.elseSplitter),p.push(h(o,[c(o,a[0],p,n),a[1]&&c(o,a[1],p,n)],n,i&&i.replace(/[(|)]/g,"").split(/\s+/)||[],"{{{"===t,"^"===r)),u[0]+"-section- "+(p.length-1)+" "+(i||n)+u[1])});return r=c(o,r,p),function(e,t){return r(w(e,t&&(v(t)&&t||[t])))}}(this,t)},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)}},t;function s(e,t){var r="{{"===t[0]?["{{2,3}","}{2,3}"]:t,n=e.options.characters+"\\][";e.inlineRegExp=new RegExp("("+r[0]+")([>!&=])*\\s*([\\w\\"+n+"\\.]+)\\s*([\\w"+n+"|\\.\\s]*)"+r[1],"g"),e.sectionRegExp=new RegExp("("+r[0]+")([#^*%]*)\\s*([\\w"+n+"]*)(?:\\s+([\\w$\\s|./"+n+"]*))*("+r[1]+")((?:(?!\\1[#^])[\\S\\s])*?)\\1\\/\\3\\5","g"),e.elseSplitter=new RegExp(r[0]+"else"+r[1])}function p(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t}function w(e,t,r,n){var i=r!==y,s=!e.__schnauzerData,a=i&&!s&&e.extra||[],o=!s&&e.helpers||[];return{extra:t?p(t,a):a,path:s?[e]:i?p(e.path,[r]):e.path,helpers:n?p(o,i&&[n]||[{}]):o,__schnauzerData:!0}}function u(e,t){for(var r=0,n=t.length;r<n;r++)e=e&&e[t[r]];return e}function l(e,t){return e!==y?e:t}function E(e,t,r,n){if(r){var i=e.path[n]||{},s=e.helpers[n]||{},a=l(s[t],u(s,r));if(a!==y&&"."!==r[0]||(a=l(i[t],u(i,r))),a!==y)return a;for(var o=e.extra.length;o--;)if((a=l(e.extra[o][t],u(e.extra[o],r)))!==y)return a}}function k(e){if(!e)return{};var t=e.split(/\s*=\s*/),r=1<t.length?t[1]:t[0],n='"'===r.charAt(0)||"'"===r.charAt(0),i=!1,s=0,a=[],o=[],p=!1;return n?r=r.replace(/(?:^['"]|['"]$)/g,""):(1<(o=r.split("../")).length&&(r=("@"===o[0]?"@":"")+o.pop(),s=o.length),name=name.replace(/^(?:\.|this)\//,function(){return p=!0,""}),a=r.split(/[\.\/]/),r=r.replace(/^(\.\/|this\.|this\/|\*)/,function(e,t){return"*"===t?i=!0:(p=!0,a[0]="."),""}).replace(/(?:^\[|\]$)/g,"")),{name:1<t.length?t[0]:r,value:r,isString:n,isInline:i,strict:p,keys:a,depth:s}}function R(e,t){return String(e).replace(t.entityRegExp,function(e){return t.options.entityMap[e]})}function P(t,e,r,n,i,s,a,o){return t.options.tools?t.options.tools(t,E,w,e,r,n,i,s,a,o):e.apply({getData:function(e){return(e=s.rawParts[e]||{value:e,keys:[e],depth:0}).isString?e.value:E(i,e.value,e.keys,e.depth)},escapeHtml:function(e){return R(e,t)},getBody:function(){return a&&a(i)||""},gatAltBody:function(){return o&&o(i)||""},data:i.path[0]},s.isInline?[function(){return a||""},s.parts,t]:n)}function S(e,t,r,n,i,s,a){return s=l(s,""),e.options.render?P(e,e.options.render,t.name,[{name:t.name,data:r,fn:n,text:i,value:s,type:a}],r,t,n):i+s}function o(e,t,r,n,i){for(var s={},a={},o=t.length,p={};o--;)""!==t[o]&&(s[(p=k(t[o])).name]=p,a[t[o]]=p);return{name:r.name,vars:t,parts:s,rawParts:a,partial:">"===i&&(e.partials[r.name]||e.partials[e.options.recursion]),isInline:r.isInline,isUnescaped:!e.options.doEscape||"&"===i||n,depth:r.depth,strict:r.strict,keys:r.keys}}function A(e,t,r,n,i){var s=n?{"@index":i,"@last":i===n-1,"@first":0===i}:{};return s["@key"]=t,s["."]=s.this=e,r&&(s[r[0]]=e,s[r[1]]=t),s}function c(h,f,g,d){var v=[],a=h.options.splitter;return f=f.replace(h.inlineRegExp,function(e,t,r,n,i){var s=r&&r.charAt(0)||"";return"!"===s||"="===s?"":(i=i.split(/\s+/),"-section-"===n?v.push({section:i[0],name:i[1]}):("*"===n&&(n+=i.shift()),v.push(o(h,i,k(n),"{{{"===t,s))),a)}).split(a),function e(t){for(var r="",n="",i=null,s={},a={},o={},p=0,u=f.length;p<u;p++)if(r+=f[p],(o=v[p])!==y)if(o.section)r=S(h,o,t,i=g[o.section],r,i(t),d);else if(o.isInline)r=P(h,h.decorators[o.name||o.vars[0]],o.name,o.vars,t,o,r)||r,m(r)&&(r=r());else{if(o.partial){for(var l in a={},t.path[0])a[l]=t.path[0][l];for(var c in o.parts)s=o.parts[c],a[c]=s.isString?s.value:E(t,s.value,s.keys,s.depth);(a=w(a)).helpers=[t.helpers[0]],a.extra=[t.extra[0]],n=o.partial(a)}else n=E(t,o.name,o.keys,o.depth),n=(i=!o.strict&&h.helpers[o.name]||m(n)&&n)?P(h,i,o.name,o.vars,t,o):n&&(o.isUnescaped?n:R(n,h));r=S(h,o,t,e,r,n,d)}return r}}function h(u,l,c,h,e,f){var g,d=c;return c=k(!h.length||"if"!==c&&"each"!==c&&"with"!==c&&"unless"!==c?c:h.shift()),g="as"===h[0]&&[h[1],h[2]],h=o(u,h,k(c.name),e,""),function(e){var t=E(e,c.name,c.keys,c.depth),r=!c.strict&&(u.helpers[c.name]||m(t)&&t),n=r&&P(u,r,c.name,h.vars,e,h,l[0],l[1]),i=v(t),s="each"===d&&!i&&"object"==typeof t&&t,a="";if(r){if(e.helpers[0]=A(n,c.name,g),"if"===d)return n?l[0](e):l[1]&&l[1](e);if("unless"===d)return n?l[1]&&l[1](e):l[0](e);i=v(t=n)}if("unless"===d?t=!t:s&&(t=x(t,[])),i||s){if(f)return t.length?"":l[0](t);e.path.unshift({}),e.helpers.unshift({});for(var o=0,p=t.length;o<p;o++)e.path[0]=i?t[o]:s[t[o]],e.helpers[0]=A(e.path[0],i?o:t[o],g,p,o),a+=l[0](e);return e.path.shift(),e.helpers.shift(),a}return f&&!t||!f&&t?r&&"string"==typeof t?t:l[0]("unless"===d||"if"===d?e:w(e,y,t,A(t,c.name,g))):l[1]&&l[1](e)}}});