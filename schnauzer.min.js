/**! @license schnauzer v1.3.0; Copyright (C) 2017-2018 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this,function(e,d){"use strict";var t=function(e,t){this.version="1.3.0",this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},doEscape:!0,helpers:{},decorators:{},partials:{},recursion:"self",characters:'$"<>%-=@',splitter:"|##|",tools:d,render:d},r(this,t||{},e)},r=function(e,t,r){for(var n in t)e.options[n]=t[n];for(var i in t=e.options,e.entityRegExp=new RegExp("["+x(t.entityMap,[]).join("")+"]","g"),s(e,t.tags),e.helpers=t.helpers,e.decorators=t.decorators,e.partials={},t.partials)e.registerPartial(i,t.partials[i]);r&&e.registerPartial(t.recursion,r)},y=Array.isArray||function(e){return e&&e.constructor===Array},m=function(e){return e&&"function"==typeof e},x=Object.keys||function(e,t){for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t};return t.prototype={render:function(e,t){return this.partials[this.options.recursion](e,t)},parse:function(e){return this.registerPartial(this.options.recursion,e)},registerHelper:function(e,t){this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerDecorator:function(e,t){this.decorators[e]=t},unregisterDecorator:function(e,t){delete this.decorators[e]},registerPartial:function(e,t){return this.partials[e]=this.partials[e]||"function"==typeof t?t:function p(l,r,u){var e="";var c=l.options.tags;for(;e!==r&&(e=r);)r=r.replace(l.sectionRegExp,function(e,t,r,n,i,s,a){if("#*"===r){var o=i.replace(/(?:^['"]|['"]$)/g,"");return l.partials[o]=l.partials[o]||p(l,a,u),""}return a=a.split(l.elseSplitter),u.push(g(l,[f(l,a[0],u,n),a[1]&&f(l,a[1],u,n)],n,i&&i.replace(/[(|)]/g,"").split(/\s+/)||[],"{{{"===t,"^"===r)),c[0]+"-section- "+(u.length-1)+" "+(i||n)+c[1]});r=f(l,r,u);return function(e,t){return r(A(e,t&&(y(t)&&t||[t])))}}(this,t,[])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)}},t;function s(e,t){var r="{{"===t[0]?["{{2,3}","}{2,3}"]:t,n=e.options.characters+"\\][";e.inlineRegExp=new RegExp("("+r[0]+")([>!&=])*\\s*([\\w\\"+n+"\\.]+)\\s*([\\w"+n+"|\\.\\s]*)"+r[1],"g"),e.sectionRegExp=new RegExp("("+r[0]+")([#^][*%]*)\\s*([\\w"+n+"]*)(?:\\s+([\\w$\\s|./"+n+"]*))*("+r[1]+")((?:(?!\\1[#^])[\\S\\s])*?)\\1\\/\\3\\5","g"),e.elseSplitter=new RegExp(r[0]+"else"+r[1])}function p(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t}function A(e,t,r,n){var i=r!==d,s=!e.__schnauzerData,a=i&&!s&&e.extra||[],o=!s&&e.helpers||[];return{extra:t?p(t,a):a,path:s?[e]:i?p(e.path,[r]):e.path,helpers:n?p(o,i&&[n]||[{}]):o,__schnauzerData:!0}}function k(e,t){for(var r=0,n=t.length;r<n;r++)"./"!==t[r]&&(e=e&&e[t[r]]);return e}function l(e,t){return e!==d?e:t}function w(e,t,r,n){if(r){var i=e.path[n]||{},s=e.helpers[n]||{},a=l(s[t],k(s,r));if(a===d&&(a=k(i,r)),a!==d)return a;for(var o=e.extra.length;o--;)if((a=l(e.extra[o][t],k(e.extra[o],r)))!==d)return a}}function c(e){if(!e)return{};var t=e.split("="),r=1<t.length?t[1]:t[0],n='"'===r.charAt(0)||"'"===r.charAt(0),i=!1,s=0,a=[],o=[],p=!1,l="%"===r.charAt(1)?2:"%"===r.charAt(0)?1:0;return n?r=r.replace(/(?:^['"]|['"]$)/g,""):(1<(o=(r=l?r.substr(l):r).split("../")).length&&(r=("@"===o[0]?"@":"")+o.pop(),s=o.length),name=name.replace(/^(?:\.|this)\//,function(){return p=!0,""}),a=r.split(/[\.\/]/),r=r.replace(/^(\.\/|this\.|this\/|\*)/,function(e,t){return"*"===t?i=!0:(p=!0,a[0]="./"),""}).replace(/(?:^\[|\]$)/g,"")),{name:1<t.length?t[0]:r,value:r,isActive:l,isString:n,isInline:i,strict:p,keys:a,depth:s}}function u(e,t){return String(e).replace(t.entityRegExp,function(e){return t.options.entityMap[e]})}function E(t,e,r,n,i,s,a,o){return t.options.tools?t.options.tools(t,w,A,e,r,n,i,s,a,o):e[y(n)||s.isInline?"apply":"call"]({getData:function(e){return(e=s.rawParts[e]||{value:e,keys:[e],depth:0}).isString?e.value:w(i,e.value,e.keys,e.depth)},escapeHtml:function(e){return u(e,t)},getBody:function(){return a&&a(i)||""},gatAltBody:function(){return o&&o(i)||""}},s.isInline?[function(){return a||""},s.parts,t]:n)}function R(e,t,r,n,i,s,a){var o=t.name;return s=l(s,""),e.options.render?E(e,e.options.render,o,{name:o,data:r,section:!!t.section,partial:!!t.partial,isActive:t.isActive,fn:n,text:i,value:s,parent:t.parent,type:(t.isInline&&e.decorators[o]?"decorator":t.partial&&e.partials[o]&&"partial")||e.helpers[o]&&"helper"||a||""},r,t,n):i+s}function h(e,t,r,n,i){for(var s={},a={},o=[],p=0,l=t.length,u={};p<l;p++)if(""!==t[p]){if("as"===t[p]){t.splice(p,1),o=[t.splice(p,1)[p],t.splice(p,1)[p]];break}s[(u=c(t[p])).name]=u,a[t[p]]=u}return{name:r.name,vars:t,parts:s,rawParts:a,partial:">"===i,isInline:r.isInline,isUnescaped:!e.options.doEscape||"&"===i||n,isActive:r.isActive,depth:r.depth,strict:r.strict,keys:r.keys,helpers:o}}function P(e,t,r,n,i,s){var a=i?{"@index":s,"@last":s===i-1,"@first":0===s,_parent:r&&[r.name,s]}:{};return a["@key"]=t,a["."]=a.this=e,0!==n.length&&(a[n[0]]=e,a[n[1]]=t),a}function f(a,r,n,i){var o=[],p=a.options.splitter;return r=r.replace(a.inlineRegExp,function(e,t,r,n,i){var s=r&&r.charAt(0)||"";return"!"===s||"="===s?"":(i=i.split(/\s+/),"-section-"===n?((n=c(i[1])).section=i[0],o.push(n)):("*"===n&&(n+=i.shift()),o.push(h(a,i,c(n),"{{{"===t,s))),p)}).split(p),i=c(i).name,function(e,t){return function(e,t,r,n,i,s,a){for(var o,p="",l="",u=null,c={},h={},f=0,g=r.length;f<g;f++)if((c=s[f])!==d)if(p+=r[f],c.section)c.parent=a&&k(t.helpers,[0,"_parent"]),p=R(e,c,t,u=n[c.section],p,u(t,a),i);else if(c.isInline)p=E(e,e.decorators[c.name||c.vars[0]],c.name,c.vars,t,c,p)||p,m(p)&&(p=p());else{if(c.partial){for(var v in h=t.helpers[0]||(t.helpers[0]={}),o=d,c.parts)o=c.parts[v],h[v]=o.keys.length&&w(t,o.name,o.keys,o.depth)||o.isString&&(o.value||o.name);l=e.partials[c.name](t)}else c.parent=a&&k(t.helpers,[0,"_parent"]),u=S(e,c),l=u(t);p=R(e,c,t,u,p,l,i)}else p=i?R(e,{},t,u,p,r[f],i):p+r[f];return p}(a,e,r,n,i,o,t)}}function S(i,s){return function(e,t){var r=w(e,s.name,t||s.keys,s.depth),n=!s.strict&&(i.helpers[s.name]||i.partials[s.name])||m(r)&&r;return r=n?E(i,n,s.name,s.vars,e,s):r&&(s.isUnescaped?r:u(r,i))}}function g(r,n,i,s,e,a){var o=i;return i=c(!s.length||"if"!==i&&"each"!==i&&"with"!==i&&"unless"!==i?i:s.shift()),s=h(r,s,c(i.name),e,""),function(e,t){return function(e,t,r,n,i,s,a,o){var p=w(t,n.name,y(o)?o:n.keys,n.depth),l=!n.strict&&(e.helpers[n.name]||m(p)&&p),u=l&&E(e,l,n.name,i.vars,t,i,r[0],r[1]),c=y(p),h="each"===a&&!c&&"object"==typeof p&&p,f="";if(p=p===d?y(t.path[0])&&t.path[0]:p,l){if(t.helpers[0]=P(u,n.name,d,i.helpers),"if"===a)return u?r[0](t):r[1]&&r[1](t);if("unless"===a)return u?r[1]&&r[1](t):r[0](t);c=y(p=u)}"unless"===a?p=!p:h&&(p=x(p,[]));if(c||h){if(s)return p.length?"":r[0](p);t.path.unshift({}),t.helpers.unshift({});for(var g=0,v=p.length;g<v;g++)t.path[0]=c?p[g]:h[p[g]],t.helpers[0]=P(t.path[0],c?g:p[g],n,i.helpers,v,g),f+=r[0](t,p[g]);return t.path.shift(),t.helpers.shift(),f}if(s&&!p||!s&&p)return l&&"string"==typeof p?p:r[0]("unless"===a||"if"===a?t:A(t,d,p,P(p,n.name,d,i.helpers)));return r[1]&&r[1](t)}(r,e,n,i,s,a,o,t)}}});