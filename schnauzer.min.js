/**! @license schnauzer v1.6.7; Copyright (C) 2017-2021 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this&&this.window||global,function(e,_){"use strict";var y=Object.keys||function(e){var t,n,r=[];for(var s in e)t=s,n=r,e.hasOwnProperty(t)&&n.push(t);return r},d=function(e,t){var n,r;for(var s in t)n=t,e[r=s]=n[r];return e},x=function(e,t){for(var n=0,r=e.length;n<r;n++)t[t.length]=e[n];return t},b=function(e,t){this.version="1.6.7",this.partials={},this.helpers={},this.regexps={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,limitPartialScope:!0,loopHelper:function(e){return e},renderHook:null},n(this,t||{},e)},n=function(t,e,n){for(var r in"string"!=typeof n&&(e=n,n=""),e=d(t.options,e),s(t,e.tags),t.regexps.entity=new RegExp("["+y(e.entityMap).join("")+"]","g"),t.helpers=e.helpers,e.partials)t.registerPartial(r,e.partials[r]);t.escapeExpression=function(e){return h(t,e,!0)},n&&t.parse(n)};return b.prototype={render:function(e,t){var n=m("","",0,_,null);return this.partials[this.options.self]({extra:t||{},scopes:[{scope:e,helpers:n,level:[],values:null}]})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var n in e)this.helpers[n]=e[n]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function m(S,e,k){var t=function(e,t,n,r,s,a,i,l,o){return"#*"===n?S.registerPartial(s.replace(/['"]/g,""),m(S,i,k))&&"":(p=S,u=k,c=t,h=a,f=i,v=n,g=r,y=s,d=o.split(g),x=R(p,g+(y?" "+y:""),v||"",c,null),b=function(e,t,n,r,s,a){for(var i=0,l=t.length,o=!1,p=[];i<l;i+=4)o=p[1]!==_?p[1]:s[0],p=t[1+i]?$(t[1+i],t[3+i]):[s[1]],a.push(R(e,t[2+i-4]||"","",0!==i?t[1+i-4]||"":r,T(e,O(t[i],o,p[0]),n,[],[])));return a}(p,f.split(p.regexps.else),u,c,$(h,d[0]),[]),u.push(function(e){return M(p,x,E(p,e,x),e,b)}),c+"--block-- "+(u.length-1)+d[1]);var p,u,c,h,f,v,g,y,d,x,b};for(;e!==(e=e.replace(S.regexps.block,t)););return T(S,e,k,[],[])}(this,t,[]));for(var n in e)this.registerPartial(n,e[n])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)}},b.SafeString=function(e){this.string=e},b.SafeString.prototype.toString=b.SafeString.prototype.toHTML=function(){return""+this.string},b;function s(e,t){var n="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,r=e.options.nameCharacters+"!-;=?@[-`|",s=(n[0]+"\\/\\3"+n[1]).replace(/[()]/g,"");e.regexps.inline=new RegExp(n[0]+"([>!&=])*\\s*([\\w\\"+r+"<>|\\.\\s]*)"+n[1],"g"),e.regexps.block=new RegExp(n[0]+"([#^][*%]*)\\s*([\\w"+r+"<>~]*)(?:\\s+([\\w$\\s|.\\/"+r+"]*))*"+n[1]+"(?:\\n*)((?:(?!"+n[0]+"[#^])[\\S\\s])*?)("+s+")","g"),e.regexps.else=new RegExp(n[0]+"(?:else|\\^)\\s*(.*?)"+n[1])}function h(t,e,n){return e===_||null===e?"":e.constructor===b.SafeString?e.string:n&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function m(e,t,n,r,s){return{"@index":e,"@last":e===n-1,"@first":0===e,"@length":n,"@parent":s,"@key":t,this:r,".":r}}function S(e,t){var n=e.scopes,r=e.alias?[e.alias]:[],s=x(n[0].level,r),a=e.values||{};return e.alias=null,e.values=null,x(n,[{scope:t,helpers:{},level:s,values:a}])}function k(e,t,n){var r=e.scope;return e.scope=t||{},function(){e.scope=r}}function w(e,t,n){if("."===t.value||"this"===t.value)return e;if(!t.path)return t.value;n._=e;for(var r=0,s=t.path.length;r<s;r++)if("@root"!==t.path[r]&&((e=n._=e[t.path[r]])&&e.__isAlias&&(e=n._=e.__isAlias),!e))return;return e[t.value]}function F(e,t,n){for(var r=0,s=e.length,a="";r<s;r++)if((a=w(e[r],t,n))!==_)return a}function H(e,t,n,r,s,a){a!==_&&(t[e]||(t[e]={}),t[e][n]=r.path&&s[n]===a?{__isAlias:s,value:a}:a)}function E(e,t,n){var r,s,a,i,l,o,p,u,c=n.vars,h={_:null},f=[],v={};if(!n||!c)return[];!n.helper&&e.helpers[c[0].orig]&&(n.helper=c.shift());for(var g,y=0,d=c.length,x={},b={};y<d;y++)b=(x=c[y]).path&&"@root"===x.path[0]?t.scopes[t.scopes.length-1]:t.scopes[x.depth||0]||{scope:{},helpers:{},level:[]},(g="@root"===x.value?b:b.helpers[x.value])===_&&b.values&&(g=w(b.values,x,h)),g!==_||x.isStrict||(g=F(b.level,x,h)),g===_&&(g=x.helper?P(e,E(e,t,x),t,x):x.path||x.name||x.vars?w(b.scope,x,h):n.isInline?b.scope[x.value]:x.value),g===_&&(g=w(t.extra,x,h)),x.alias&&H("alias",t,x.alias[0],x,b.scope,g),x.name&&H("values",t,x.name,x,b.scope,g),e.options.renderHook&&(s=g,a=x,void 0,l=(i=h._)===(r=b).scope,o=l?i:r.helpers["@parent"]||i||r.scope,p=l?a.value:r.helpers["@key"]||a.value,u=o[p]===s,v=a.path?{key:u?p:a.value,parent:u?o:i}:{value:s}),f.push({value:g&&g.__isAlias?g.value:g,alias:x.alias,type:g&&g.constructor===Array?"array":typeof g,name:x.name,parent:v.parent,key:v.key});return f}function I(e,t,n){var r=e.value,s="object"===e.type;return"each"!==t&&("array"!==e.type||"if"!==t&&"unless"!==t)||r===_?r:(s&&(n._=y(r)),s?n._.length&&r:r.length&&r)}function P(e,t,n,r,s,a){var i,l,o,p,u,c=n.scopes[(t[0]||{}).depth||0].scope,h=(i=e,l=r,o=n.scopes[l.helper.depth||0].scope,p=i.helpers[l.helper.orig],l.helperFn||(l.helper.isStrict||!p?w(o,l.helper,{}):p)),f=!r.helper&&s&&(t[0]?j:_)||r.helperFn,v=[],g=n.scopes[0].values;return f?f(e,t,n,r,s,a):h||1!==t.length||"function"!==t[0].type?(n.alias&&n.scopes[0].level.unshift(n.alias),n.values&&(n.scopes[0].values=n.values),v.push(function(e,n,t,r,s,a){for(var i=null,l={name:t.helper?t.helper.orig:"",hash:{},blockParams:[],data:{root:n.scopes[n.scopes.length-1].scope},utils:{escapeExpression:e.escapeExpression,SafeString:b.SafeString,keys:y,extend:d,concat:x}},o=r.length;o--;)r[o].name?l.hash[r[o].name]=r[o].value:s.unshift(r[o].value);return a&&(l.fn=function(e,t){return i=k(n.scopes[0],e),[a[0].bodyFn(n),i()][0]},l.inverse=a[1]&&function(e,t){return i=k(n.scopes[0],e),[a[1].bodyFn(n),i()][0]}||function(){return""}),l}(e,n,r,t,v,s)),u=h?h.apply(c,v):"",n.scopes[0].level.shift(),n.scopes[0].values=g,u===_?"":u):t[0].value()}function j(e,t,n,r,s,a){for(var i=0,l={_:[]},o=s[i],p=r.helper,u=/^(?:if|each|with)$/.test(p),c=!p&&1===t.length,h=t[0]||{},f=I(h,p,l),v=(u||c)&&f||"unless"===p&&!f,g=!1;s[i+1]&&!v;)p=(o=s[++i]).helper,u=/^(?:if|each|with)$/.test(p),t=o.vars.length?E(e,n,o):[],c=!p&&1===t.length,f=I(h=t[0]||{},p,l),v=(u||c)&&f||"unless"===p&&!f||!p&&!t.length&&o.bodyFn;if(a.fnIdx=i,c&&"array"===h.type&&(p="each"),c&&!p&&(p="with"),"with"===p||"each"===p&&f){if(g=!0,n.scopes=S(n,f),"each"===p)return function(e,t,n,r,s,a,i){for(var l=r.scopes[0],o=n.alias,p=l.level[0],u="array"===n.type,c=u||"object"===n.type?u?t:a:[],h=0,f=c.length,v="",g="";h<f;h++)v=""+(u?h:c[h]),l.helpers=m(h,v,f,t[v],t),l.scope=t[v],o&&(p[o[0]]=t[v],o[1]&&(p[o[1]]=v)),g+=i(s(r),h,u);return[g,r.scopes.shift()][0]}(0,f,h,n,o.bodyFn,l._,e.options.loopHelper);n.scopes[0].helpers=m("","",0,c?f:n.scopes[0].scope,n.scopes[1])}return[v?o.bodyFn(n):"",g&&n.scopes.shift()][0]}function f(t,n,e,r,s,a,i,l){return n.values=null,n.alias=null,t.options.renderHook?t.options.renderHook(t,s,e,r,l||{fnIdx:0},function(e){return a(t,r,e,n,i,l||{fnIdx:0})}):s}function v(e,t,n,r){var s,a,i,l,o,p,u,c=n[0]&&n[0].type;return f(e,r,n,t,t.partial?(a=n,i=r,l=t,o=(s=e).partials[l.partial.orig],p=a[0].name?i.scopes[0].scope:a[0].value,u=i.scopes=S(i,p),s.options.limitPartialScope&&(i.scopes=[i.scopes[0]]),[o?o(i):"",i.scopes=u,i.scopes.shift()][0]):h(e,t.helper||"function"===c?P(e,n,r,t):n[0]&&n[0].value,"boolean"!==c&&"number"!==c&&t.isEscaped),v,null)}function M(e,t,n,r,s,a){var i=a||{fnIdx:0},l=P(e,n,r,t,s,i);return a?l:f(e,r,n,t,l,M,s,i)}function O(e,t,n){var r=t||n?t?n?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return r?e.replace(new RegExp(r,"g"),""):e}function $(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function g(e,t,n){var r,s,a=e.replace(/[[\]]/g,""),i=n?[]:a.split("../"),l=i[1]?i[0]:"",o=i.length-1,p=n?a:i[o];return n||"."===p||"this"===p?{value:p}:{value:l+(i=(r=p,s=t,r.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(s.isStrict=!0),""})).split(/[./]/)).pop(),path:i,depth:o,name:a}}function A(e,t,n){for(var r=e.length,s=[];r--;)s.unshift(e[r].value);if(n)for(;s.length;)t[t.length-s.length].name=s.shift();else t[t.length-1].alias=s}function o(e,t,n,r){for(var s,a="string"===r?[e]:e.split(/[,;]*\s+[,;]*/),i="alias"===r||"string"===r,l=0,o=a.length,p=[],u="",c={},h={};l<o;l++)if(""!==(u=(p=a[l].split("="))[1]!==_?p[1]:p[0])&&"as"!==u){if("object"==typeof(c=t[(u.match(/--(\d+)--/)||[])[1]]||{value:u}).value&&c.value[0].single)return c.value;p[1]!==_&&(c.name=p[0]),"string"===c.type?c.value=c.value[0].value:c.value&&"string"==typeof c.value&&(c.value=c.value.replace(/%+/,function(e){return c.active=e.length,""}),h=g(c.value,c,i),c.value=(s=h.value,i||h.name!==h.value?s:"true"===s||"false"!==s&&(isNaN(s)||""===s?s:+s)),h.name&&(c.orig=h.name),"string"==typeof c.value&&h.path&&!i&&(c.path=h.path,c.depth=h.depth)),"alias"===c.type?A(c.value,n,3<l):n.push(c)}return n}function R(e,t,n,r,s,a){var i=t?function(r,s){for(r=r.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var n={type:"|"!==t?"string":"alias",value:""};return n.value=e===r?[{value:e.substring(1,e.length-1),path:[],depth:0,single:!0}]:o(e.substring(1,e.length-1),s,[],n.type),"--"+(s.push(n)-1)+"--"});r!==(r=r.replace(/\([^()]*\)/g,function(e){var t={vars:o(e.substring(1,e.length-1),s,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(s.push(t)-1)+"--"})););return o(r,s,[],"")}(t,[]):[],l="^"===n?"unless":/^(?:if|each|with|unless)$/.test((i[0]||{}).value)?i.shift().value:"";return{partial:">"===n?i.shift():"",helper:l||(">"!==n&&1<i.length?i.shift():""),helperFn:l?j:"",isEscaped:r.lastIndexOf(e.options.tags[0])<1,bodyFn:s||null,vars:i,isInline:a}}function T(t,e,n,r,s){for(var a=e.split(t.regexps.inline),i=0,l=a.length,o="",p=[];i<l;i+=5)a[2+i]&&/^(?:!|=)/.test(a[2+i])||(o=a[3+i]||"",p=$(i?a[4+i-5]:"",o?a[1+i]:""),s.push(O(a[i],p[0],p[1])),o&&r.push(-1!==o.indexOf("--block--")?{blockIndex:+o.substr(10)}:R(t,o,a[2+i]||"",a[1+i],null,!0)));return function(e){return function(e,t,n,r,s){for(var a=0,i=n.length,l="";a<i;a++)l+=n[a]+(t[a]?-1<t[a].blockIndex?r[t[a].blockIndex](s):v(e,t[a],E(e,s,t[a]),s):"");return l}(t,r,s,n,e)}}});