/**! @license schnauzer v1.5.0; Copyright (C) 2017-2020 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this&&this.window||global,function(e,E){"use strict";var y=Object.keys||function(e){var t,r,n=[];for(var s in e)t=s,r=n,e.hasOwnProperty(t)&&r.push(t);return n},p=function(e,t){var r,n;for(var s in e)r=e,t[n=s]=r[n];return t},i=function(e,t){for(var r=0,n=e.length;r<n;r++)t[t.length]=e[r];return t},t=function(e,t){this.version="1.5.0",this.partials={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,renderHook:null},r(this,t||{},e)},r=function(e,t,r){for(var n in t)e.options[n]=t[n];for(var s in a(e,(t=e.options).tags),e.entityRegExp=new RegExp("["+y(t.entityMap).join("")+"]","g"),e.helpers=t.helpers,t.partials)e.registerPartial(s,t.partials[s]);r&&e.parse(r)};return t.prototype={render:function(e,t){return this.partials[this.options.self]({extra:t||{},scopes:[{scope:r=e,helpers:{},level:{"@root":r}}]});var r},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function S(m,e,w){var t=function(e,t,r,n,s,i,a,o,l){return"#*"===r?m.registerPartial(s.replace(/['"]/g,""),S(m,a,w))&&"":(u=m,p=w,c=t,f=i,h=a,v=r,g=n,y=s,b=l.split(g),d=M(u,g,y,v||"",c,null),x=function(e,t,r,n,s,i){for(var a=0,o=t.length,l=!1,u=[];a<o;a+=4)l=u[1]!==E?u[1]:s[0],u=t[1+a]?P(t[1+a],t[3+a]):[s[1]],i.push(M(e,t[2+a-4]||"","","",0!==a?t[1+a-4]||"":n,$(e,A(t[a],l,u[0]),r,[],[])));return i}(u,h.split(u.elseSplitter),p,c,P(f,b[0]),[]),p.push(function(e){return R(u,d,e,x)}),c+"-block- "+(p.length-1)+b[1]);var u,p,c,f,h,v,g,y,b,d,x};for(;e!==(e=e.replace(m.sectionRegExp,t)););return $(m,e,w,[],[])}(this,t,[]))},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){a(this,e)}},t;function a(e,t){var r="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,n=e.options.nameCharacters+"!-;=?@[-`|",s=(r[0]+"\\/\\3"+r[1]).replace(/[()]/g,"");e.inlineRegExp=new RegExp(r[0]+"([>!&=])*\\s*([\\w\\"+n+"<>|\\.\\s]*)"+r[1],"g"),e.sectionRegExp=new RegExp(r[0]+"([#^][*%]*)\\s*([\\w"+n+"~]*)(?:\\s+([\\w$\\s|.\\/"+n+"]*))*"+r[1]+"(?:\\n*)((?:(?!"+r[0]+"[#])[\\S\\s])*?)("+s+")","g"),e.elseSplitter=new RegExp(r[0]+"(?:else|\\^)\\s*(.*?)"+r[1])}function c(e,t,r){return r&&t.options.escapeHTML?String(e).replace(t.entityRegExp,function(e){return t.options.entityMap[e]}):e}function b(e,t,r,n,s){return t={scope:t,helpers:r,level:n},s?(e[0]=t,e):i(e,[t])}function d(e,t,r){for(var n=0,s=t.path.length;n<s;n++)if(!(e=e[t.path[n]]))return;return r?e:e[t.value]}function f(e,t,r){var n,s,i,a,o=r.root,l=o.variable,u=t.scopes&&t.scopes[l.parentDepth]||{},p=u.scope||{},c=l.value,f=!o.isStrict&&!o.isString&&e.helpers[c]||null,h=r.isPartial&&e.partials[c]||null,v="",g=l.root?(n=e,s=t,a=(i=o).variable.root,x(n,{key:a,value:n.helpers[a],type:"helper"},s,{vars:i.variable.vars},null)):o.isString&&l.name||l.isLiteral?c:(v=d(u.level||{},l))!==E?v:(v=d(u.helpers||{},l))!==E?v:(v=d(p,l))!==E?v:f||h||(p[c]!==E?p[c]:o.isString?c:d(t.extra,l));return{value:g,type:g===E||null===g?"":f?"helper":h?"partial":g.constructor===Array?"array":typeof g}}function x(e,t,r,n,s){return"helper"===t.type||"function"===t.type?v(e,t,r,n,[{bodyFn:s}]):t.value}function h(e,t,r,n,s,i,a){for(var o=n.length,l={},u="",p=null,c="";o--;)u=(p=(c=(l=n[o]).variable).root?x(e,t,r,c,null):null)||!c.name?"$"+o:c.name,c.name&&(a[u]=s[u]),s[u]=p||f(e,r,{root:l}).value,i.push(s[u]),l.isAlias&&(r.scopes[0].level[u]=s[u]);return{obj:s,arr:i,restore:a}}function S(e,t,r,n,s){return e.root.isAlias&&(r[t.name||t.value]=s,n!==E&&(r[e.root.aliasKey||"@key"]=n)),r}function v(t,e,r,n,s){return e.value.apply({name:n.root.variable.value,scope:r.scopes[0].scope,rootScope:r.scopes[r.scopes.length-1].scope,getBody:function(){return s[0]?s[0].bodyFn(r):""},getData:function(e){return f(t,r,{root:O(e)}).value},escape:function(e){return c(e,t,!0)}},h(t,e,r,n.vars,{},[],{}).arr)}function g(e,t,r,n,s,i){for(var a=0,o=s[a],l=!n.helper||"if"===n.helper,u=!1,p=x(e,t,r,n,o.bodyFn);!(u=l&&!!p||!l&&!p)&&s[a+1];)l=!(o=s[++a]).helper||"if"===o.helper,p=x(e,t=o.root?f(e,r,o):{value:l},r,o,o.bodyFn);return i.fnIdx=a,u?o.bodyFn(r):""}function m(e,t,r,n,s){for(var i,a,o,l,u,p="",c="array"===t.type,f=c?t.value||[]:y(t.value||{}),h=0,v=f.length,g="";h<v;h++)g=c?h:f[h],r.scopes=b(r.scopes,t.value[g],(i=h,a=g,o=v,l=c?f[h]:t.value[g],u=t.value,{"@index":i,"@last":i===o-1,"@first":0===i,"@length":o,"@parent":u,"@key":a,this:l,".":l}),S(n,n.root.variable,{},g,t.value[g]),!!h),p+=s[0].bodyFn(r);return r.scopes.shift(),p}function w(e,t,r,n,s){var i=n.root.variable,a=r.scopes[0],o=p({".":t.value,this:t.value},a.level);return r.scopes=b(r.scopes,t.value,{"@parent":d(r.scopes[i.parentDepth],i,!0)},S(n,i,o,E,t.value),!1),[s[0].bodyFn(r),r.scopes.shift()][0]}function k(e,t,r,n,s,i,a,o){return e.options.renderHook?e.options.renderHook.call(e,s,r,t,n,o,r.root?r.root.variable.value:"",t.scopes[0].level["@parent"]||t.scopes[0].scope,function(){return i(e,r,t,a||f(e,t,r),o)}):s}function F(e,t,r,n){return n.value===E?"":t.isPartial?(s=e,i=n,o=t,l=(a=r).scopes[0].helpers,u=h(s,i,a,o.vars,l,[],{}),[i.value(a),p(u.restore,l)][0]):c("helper"===n.type||"function"===n.type?v(e,n,r,t,[]):n.value,e,"boolean"!==n.type&&"number"!==n.type&&t.isEscaped);var s,i,a,o,l,u}function R(e,t,r,n,s){var i=f(e,r,t),a=t.helper,o="if"===a||"unless"===a,l=s||{fnIdx:0},u=("helper"===i.type||"function"===i.type&&!a?v:o||i.value===E?g:"with"===a||!a&&"array"!==i.type?w:m)(e,i,r,t,n,l);return s?u:k(e,r,t,!0,u,R,n,l)}function A(e,t,r){var n=t||r?t?r?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return n?e.replace(new RegExp(n,"g"),""):e}function P(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function o(e,t){return'"'===e.charAt(0)||"'"===e.charAt(0)?(t.isString=!0,e.substr(1,e.length-2)):(/\.|\|/.test(e)&&(t.isStrict=!0),"true"===e||"false"!==e&&(isNaN(e)||""===e?e:+e))}function H(e){return"%"===e.charAt(1)?2:"%"===e.charAt(0)?1:0}function I(e,t){return e&&e.replace(/\(.*?\)|(?:("|'|\|).*?\1)|\S+/g,function(e){e&&t.push(e)}),t}function l(e,t,r){var n="string"==typeof e,s=n&&!("."===e)&&!r,i=s?e.split("../"):[],a=s?i.pop().split(/[.\/]/):[e];return"@"===i[0]&&(a[i.length-1]=i[0]+a[i.length-1]),n?{name:t,value:a.pop(),path:a,parentDepth:i.length}:{name:t,value:e,isLiteral:!0,path:[]}}function O(e){var t,r,n=[],s={variable:{},isAlias:!1,aliasKey:"",isString:!1,isStrict:!1,active:0};return"("===(e=(t=e,r=s,t.replace(/^(?:this[/.]|\.\/)/,function(e){return e&&(r.isStrict=!0),""}).replace(/[[\]]/g,"")).substr(s.active=H(e))).charAt(0)?{variable:{root:(n=I(e=e.substr(1,e.length-2),[])).shift(),vars:D(n,[],{}),path:[]}}:(n=e.split("="),s.variable=n[1]?l(o(n[1],s),n[0],s.isString):l(o(n[0],s),"",s.isString),s)}function D(e,t,r){for(var n=0,s=e.length,i=r||{};n<s;n++)"as"!==e[n]?(i=O(e[n]),t.push(i)):(a=i,o=e[++n],void 0,l=o.replace(/\s*\|\s*/g,"").split(/\s+/),a.variable.name=l[0],a.aliasKey=l[1]||"",a.isAlias=!0);var a,o,l;return t}function M(e,t,r,n,s,i){var a=I(t+(r?" "+r:""),[]),o=a.shift()||"",l=/^(?:if|each|with|unless)$/.test(o)?o:"",u=H(o=l?a.shift()||"":o);return i&&!o?{bodyFn:i}:{root:o=O(o.substr(u)),isPartial:">"===n,isEscaped:s.lastIndexOf(e.options.tags[0])<1,helper:"^"===n?"unless":l,vars:D(a,[],o),active:u,bodyFn:i||null}}function $(t,e,r,n,s){for(var i=e.split(t.inlineRegExp),a=0,o=i.length,l="",u=[];a<o;a+=5)i[2+a]&&/^(?:!|=)/.test(i[2+a])||(l=i[3+a]||"",u=P(a?i[4+a-5]:"",l?i[1+a]:""),s.push(A(i[a],u[0],u[1])),l&&n.push(-1!==l.indexOf("-block-")?{blockIndex:+l.substr(8)}:M(t,l,"",i[2+a]||"",i[1+a],null)));return function(e){return function(e,t,r,n,s){for(var i=0,a=r.length,o="";i<a;i++)o+=r[i],t[i]&&(o+=-1<t[i].blockIndex?n[t[i].blockIndex](s):k(e,s,t[i],!1,F(e,t[i],s,f(e,s,t[i])),F,null));return o}(t,n,s,r,e)}}});