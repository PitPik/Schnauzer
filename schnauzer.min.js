/**! @license schnauzer v1.7.0; Copyright (C) 2017-2022 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this&&this.window||global,function(e,_){"use strict";var g=Object.keys||function(e){var t,n,r=[];for(var s in e)t=s,n=r,e.hasOwnProperty(t)&&n.push(t);return r},y=function(e,t){for(var n in t)r=t,e[s=n]=r[s];var r,s;return e},d=function(e,t){for(var n=0,r=e.length;n<r;n++)t[t.length]=e[n];return t},x=function(e,t){this.version="1.7.0",this.partials={},this.helpers={},this.regexps={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,limitPartialScope:!0,loopHelper:null,renderHook:null},n(this,t||{},e)},n=function(t,e,n){for(var r in"string"!=typeof n&&(e=n,n=""),e=y(t.options,e),s(t,e.tags),t.helpers=e.helpers,e.partials)t.registerPartial(r,e.partials[r]);t.escapeExpression=function(e){return c(t,e,!0)},n&&t.parse(n)};return x.prototype={render:function(e,t){var n=b("","",0,_,null,[{scope:e}]);return this.partials[this.options.self]({extra:t||{},scopes:[{scope:e,helpers:n,level:[],values:null}]})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var n in e)this.helpers[n]=e[n]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function m(k,e,S){var t=function(e,t,n,r,s,a,l,i,o){return"#*"===n?k.registerPartial(s.replace(/['"]/g,""),m(k,l,S))&&"":(p=k,u=S,c=t,h=a,f=l,v=n,g=r,y=s,d=o.split(g),x=R(p,g+(y?" "+y:""),v||"",c,null),b=function(e,t,n,r,s,a){for(var l=0,i=t.length,o=!1,p=[];l<i;l+=4)o=p[1]!==_?p[1]:s[0],p=t[1+l]?M(t[1+l],t[3+l]):[s[1]],a.push(R(e,t[2+l-4]||"","",0!==l?t[1+l-4]||"":r,T(e,O(t[l],o,p[0]),n,[],[])));return a}(p,f.split(p.regexps.else),u,c,M(h,d[0]),[]),u.push(function(e){return j(p,x,E(p,e,x),e,b)}),c+"--block-- "+(u.length-1)+d[1]);var p,u,c,h,f,v,g,y,d,x,b};for(;e!==(e=e.replace(k.regexps.block,t)););return T(k,e,S,[],[])}(this,t,[]));for(var n in e)this.registerPartial(n,e[n])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)}},x.SafeString=function(e){this.string=e},x.SafeString.prototype.toString=x.SafeString.prototype.toHTML=function(){return""+this.string},x;function s(e,t){var n="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,r=e.options.nameCharacters+"!-;=?@[-`|";e.regexps={inline:new RegExp(n[0]+"([>!&=])*\\s*([\\w\\"+r+"<>|\\.\\s]*)"+n[1],"g"),block:new RegExp(n[0]+"([#^][*%]*)\\s*([\\w"+r+"<>~]*)(?:\\s+([\\w$\\s|.\\/"+r+"]*))*"+n[1]+"(?:\\n*)((?:(?!"+n[0]+"[#^])[\\S\\s])*?)("+(n[0]+"\\/\\3"+n[1]).replace(/[()]/g,"")+")","g"),else:new RegExp(n[0]+"(?:else|\\^)\\s*(.*?)"+n[1]),entity:new RegExp("["+g(e.options.entityMap).join("")+"]","g")}}function c(t,e,n){return null==e?"":e.constructor===x.SafeString?e.string:n&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function b(e,t,n,r,s,a){return n?{"@index":e,"@key":t,"@last":e===n-1,"@first":0===e,"@length":n,"@parent":s,"@root":a[a.length-1].scope,this:r,".":r}:{"@parent":s,"@root":a[a.length-1].scope,this:r,".":r}}function m(e,t){var n=e.scopes,r=e.alias?[e.alias]:[],s=d(n[0].level,r),a=e.values||{};return e.alias=null,e.values=null,e.scopes=d(n,[{scope:t,helpers:{},level:s,values:a}]),function(){e.scopes=n}}function k(e,t,n){var r=e.scope;return e.scope=t||{},function(){e.scope=r}}function w(e,t,n){if("."===t.value||"this"===t.value)return console.log("hallelouja",t.value,e),e;if(!t.path)return t.value;n._=e;for(var r=0,s=t.path.length;r<s;r++)if("@root"!==t.path[r]&&((e=n._=e[t.path[r]])&&e.__isAlias&&(e=n._=e.__isAlias),!e))return;return e[t.value]}function H(e,t,n){for(var r=0,s=e.length,a="";r<s;r++)if((a=w(e[r],t,n))!==_)return a}function F(e,t,n,r,s,a){a!==_&&(t[e]||(t[e]={}),t[e][n]=r.path&&s[n]===a?{__isAlias:s,value:a}:a)}function E(t,e,n){var r,s,a,l,i,o,p,u,c,h=n.vars,f={_:null},v=[],g={},y=null,d={};if(!n||!h)return[];!n.helper&&h[0]&&t.helpers[h[0].orig]&&(n.helper=h.shift());for(var x,b=0,m=h.length,k={},S={};b<m;b++)S=(k=h[b]).path&&"@root"===k.path[0]?e.scopes[e.scopes.length-1]:e.scopes[k.depth||0]||{scope:{},helpers:{},level:[]},(x="@root"===k.value?S:S.helpers[k.value])===_&&S.values&&(x=w(S.values,k,f)),x!==_||k.isStrict||(x=H(S.level,k,f)),x===_&&(x=k.helper?I(t,g=E(t,e,k),e,k):k.path||k.name||k.vars?w(S.scope,k,f):n.isInline?w(S.scope,k,f):k.value),x===_&&(x=w(e.extra,k,f)),k.alias&&F("alias",e,k.alias[0],k,S.scope,x),k.name&&F("values",e,k.name,k,S.scope,x),t.options.renderHook&&(k.helper&&!k.name?(d={extra:e.extra,scopes:e.scopes},y=function(e){return I(t,e,d,k)},g.__vars=k.vars):(s=x,a=k,void 0,i=(l=f._)===(r=S).scope,o=i?l:r.helpers["@parent"]||l||r.scope,p=i?a.value:""+(r.helpers["@key"]||"")||a.value,u="this"===a.value||"."===a.value,c=o[p]===s,g=a.path||u?{key:c?p:a.value,parent:c?o:l}:{value:s})),v.push({value:x&&x.__isAlias?x.value:x,alias:k.alias,type:x&&x.constructor===Array?"array":typeof x,name:k.name,parent:g.parent,key:g.key,data:y?g:null,helper:y});return v}function S(e,t,n){var r=e.value,s="object"===e.type;return"each"!==t&&("array"!==e.type||"if"!==t&&"unless"!==t)||r===_?r:(s&&(n._=g(r)),s?n._.length&&r:r.length&&r)}function I(e,t,n,r,s,a){var l,i,o,p,u,c=(l=e,i=r,o=n.scopes[i.helper.depth||0].scope,p=l.helpers[i.helper.orig],i.helperFn||(i.helper.isStrict||!p?w(o,i.helper,{}):p)),h=!r.helper&&s&&(t[0]?P:_)||r.helperFn,f=[],v=n.scopes[0].values;return h?h(e,t,n,r,s,a):c||1!==t.length||"function"!==t[0].type?(n.values&&(n.scopes[0].values=n.values),f.push(function(e,n,t,r,s,a){var l=null,i=t.helper?t.helper.orig:"",o=n.scopes[0].helpers,p={name:i,hash:{},data:{root:o["@root"],scope:o.this,parent:o["@parent"]},escapeExpression:e.escapeExpression,SafeString:x.SafeString,keys:g,extend:y,concat:d};o["@length"]&&y(p.data,{first:o["@first"],last:o["@last"],index:o["@index"],key:o["@key"],length:o["@length"]});for(var u=r.length;u--;)r[u].name?p.hash[r[u].name]=r[u].value:s.unshift(r[u].value);return a&&(p.fn=function(e,t){return l=k(n.scopes[0],e),[a[0].bodyFn(n),l()][0]},p.inverse=a[1]&&function(e,t){return l=k(n.scopes[0],e),[a[1].bodyFn(n),l()][0]}||function(){return""}),p}(e,n,r,t,f,s)),u=c?c.apply(n.scopes[0].scope,f):"",n.scopes[0].values=v,u===_?"":u):t[0].value()}function P(e,t,n,r,s,a){for(var l=0,i={_:[]},o=s[l],p=r.helper,u=/^(?:if|each|with)$/.test(p),c=!p&&1===t.length,h=t[0]||{},f=S(h,p,i),v=(u||c)&&f||"unless"===p&&!f,g=null;s[l+1]&&!v;)p=(o=s[++l]).helper,u=/^(?:if|each|with)$/.test(p),t=o.vars.length?E(e,n,o):[],c=!p&&1===t.length,f=S(h=t[0]||{},p,i),v=(u||c)&&f||"unless"===p&&!f||!p&&!t.length&&o.bodyFn;if(a.fnIdx=l,c&&"array"===h.type&&(p="each"),c&&!p&&(p="with"),"with"===p||"each"===p&&f){if(g=m(n,f),"each"===p)return function(e,t,n,r,s,a,l,i,o){for(var p=r.scopes[0],u=n.alias,c=p.level[0],h="array"===n.type,f=h||"object"===n.type?h?t:a:[],v=0,g=f.length,y="",d="";v<g;v++)y=h?v:f[v],p.helpers=b(v,y,g,t[y],t,r.scopes),p.scope=t[y],u&&(c[u[0]]=t[y],u[1]&&(c[u[1]]=y)),d+=i&&h?i(s(r),y,n,l):s(r);return[d,o()][0]}(0,f,h,n,o.bodyFn,i._,r.vars[0].active,e.options.loopHelper,g);n.scopes[0].helpers=b("","",0,c?f:n.scopes[0].scope,n.scopes[1].scope,n.scopes)}return[v?o.bodyFn(n):"",g&&g()][0]}function h(t,n,e,r,s,a,l,i){return n.values=null,n.alias=null,t.options.renderHook&&l&&(n={extra:n.extra,scopes:n.scopes}),t.options.renderHook?t.options.renderHook(t,s,e,r,i||{fnIdx:0},function(e){return n.scopes[0].scope=e[0].parent,a(t,r,e,n,l,i||{fnIdx:0})}):s}function f(e,t,n,r){var s,a,l,i,o,p,u=n[0]&&n[0].type;return h(e,r,n,t,t.partial?(a=n,l=r,i=t,o=(s=e).partials[i.partial.orig],p=m(l,a[0]&&!a[0].name?a[0].value:l.scopes[0].scope),s.options.limitPartialScope&&(l.scopes=[l.scopes[0]]),[o?o(l):"",p()][0]):c(e,t.helper||"function"===u?I(e,n,r,t):n[0]&&n[0].value,"boolean"!==u&&"number"!==u&&t.isEscaped),f,null)}function j(e,t,n,r,s,a){var l=a||{fnIdx:0},i=I(e,n,r,t,s,l);return a?i:h(e,r,n,t,i,j,s,l)}function O(e,t,n){var r=t||n?t?n?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return r?e.replace(new RegExp(r,"g"),""):e}function M(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function $(e,t,n){var r,s,a=e.replace(/\[.*?]/g,function(e){return e.substring(1,e.length-1).replace(/\./g,"^")}),l=n?[]:a.split("../"),i=l[1]?l[0]:"",o=l.length-1,p=n?a:l[o];if(n||"."===p||"this"===p||+p==p)return{value:p};for(var u=(l=(r=p,s=t,r.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(s.isStrict=!0),""})).split(/[./]/)).length;u--;)l[u]=l[u].replace(/\^/g,".");return{value:i+l.pop(),path:l,depth:o,name:a.replace(/\^/g,".")}}function A(e,t,n){for(var r=e.length,s=[];r--;)s.unshift(e[r].value);if(n)for(;s.length;)t[t.length-s.length].name=s.shift();else t[t.length-1].alias=s}function o(e,t,n,r){for(var s,a="string"===r?[e]:e.split(/[,;]*\s+[,;]*/),l="alias"===r||"string"===r,i=0,o=a.length,p=/--(\d+)--/,u=/%+/,c=[],h="",f={},v={};i<o;i++)if(""!==(h=(c=a[i].split("="))[1]!==_?c[1]:c[0])&&"as"!==h){if("object"==typeof(f=t[(h.match(p)||[])[1]]||{value:h}).value&&f.value[0].single)return f.value;c[1]!==_&&(f.name=c[0]),"string"===f.type?f.value=f.value[0].value:f.value&&"string"==typeof f.value&&(f.value=f.value.replace(u,function(e){return f.active=e.length,""}),v=$(f.value,f,l),f.value=(s=v.value,l||v.name!==v.value?s:"true"===s||"false"!==s&&(isNaN(s)||""===s?s:+s)),v.name&&(f.orig=v.name),"string"==typeof f.value&&v.path&&!l&&(f.path=v.path,f.depth=v.depth)),"alias"===f.type?A(f.value,n,3<i):n.push(f)}return n}function R(e,t,n,r,s,a){var l=t?function(r,s){var e=/\([^()]*\)/g,t=function(e){var t={vars:o(e.substring(1,e.length-1),s,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(s.push(t)-1)+"--"};for(r=r.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var n={type:"|"!==t?"string":"alias",value:""};return-1!==r.indexOf("["+t)?e:(n.value=e===r?[{value:e.substring(1,e.length-1),path:[],depth:0,single:!0}]:o(e.substring(1,e.length-1),s,[],n.type),"--"+(s.push(n)-1)+"--")});r!==(r=r.replace(e,t)););return o(r,s,[],"")}(t,[]):[],i="^"===n?"unless":/^(?:if|each|with|unless)$/.test((l[0]||{}).value)?l.shift().value:"";return{partial:">"===n?l.shift():_,helper:i||(">"!==n&&1<l.length?l.shift():""),helperFn:i?P:_,isEscaped:r.lastIndexOf(e.options.tags[0])<1,bodyFn:s||null,vars:l,isInline:a}}function T(t,e,n,r,s){for(var a=0,l=e.split(t.regexps.inline),i=l.length,o="",p=[],u=/^(?:!|=)/;a<i;a+=5)l[2+a]&&u.test(l[2+a])||(o=l[3+a]||"",p=M(a?l[4+a-5]:"",o?l[1+a]:""),s.push(O(l[a],p[0],p[1])),o&&r.push(-1!==o.indexOf("--block--")?{blockIndex:+o.substring(10)}:R(t,o,l[2+a]||"",l[1+a],null,!0)));return function(e){return function(e,t,n,r,s){for(var a=0,l=n.length,i="";a<l;a++)i+=n[a]+(t[a]?-1<t[a].blockIndex?r[t[a].blockIndex](s):f(e,t[a],E(e,s,t[a]),s):"");return i}(t,r,s,n,e)}}});