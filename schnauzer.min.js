/**! @license schnauzer v1.6.2; Copyright (C) 2017-2021 by Peter Dematt√© */
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define("schnauzer",[],function(){return t(e)}):e.Schnauzer=t(e)}(this&&this.window||global,function(e,k){"use strict";var y=Object.keys||function(e){var t,n,r=[];for(var s in e)t=s,n=r,e.hasOwnProperty(t)&&n.push(t);return r},v=function(e,t){var n,r;for(var s in t)n=t,e[r=s]=n[r];return e},d=function(e,t){for(var n=0,r=t.length;n<r;n++)e[e.length]=t[n];return e},x=function(e,t){this.version="1.6.2",this.partials={},this.helpers={},this.regexps={},this.options={tags:["{{","}}"],entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},helpers:{},partials:{},self:"self",nameCharacters:"",escapeHTML:!0,renderHook:null},n(this,t||{},e)},n=function(e,t,n){for(var r in s(e,(t=v(e.options,t)).tags),e.regexps.entity=new RegExp("["+y(t.entityMap).join("")+"]","g"),e.helpers=t.helpers,t.partials)e.registerPartial(r,t.partials[r]);n&&e.parse(n)};return x.prototype={render:function(e,t){var n=m("","",0,e,{});return this.partials[this.options.self]({extra:t||{},scopes:[{scope:e,helpers:n,level:{"@root":e}}]})},parse:function(e){return this.registerPartial(this.options.self,e)},registerHelper:function(e,t){if("string"==typeof e)return this.helpers[e]=t;for(var n in e)this.helpers[n]=e[n]},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("string"==typeof e)return this.partials[e]=this.partials[e]||(t.constructor===Function?t:function b(S,e,w){var t=function(e,t,n,r,s,i,a,l,o){return"#*"===n?S.registerPartial(s.replace(/['"]/g,""),b(S,a,w))&&"":(p=S,u=w,h=t,c=i,f=a,g=n,v=r,d=s,y=o.split(v),x=M(p,v+(d?" "+d:""),g||"",h,null),m=function(e,t,n,r,s,i){for(var a=0,l=t.length,o=!1,p=[];a<l;a+=4)o=p[1]!==k?p[1]:s[0],p=t[1+a]?P(t[1+a],t[3+a]):[s[1]],i.push(M(e,t[2+a-4]||"","",0!==a?t[1+a-4]||"":r,O(e,I(t[a],o,p[0]),n,[],[])));return i}(p,f.split(p.regexps.else),u,h,P(c,y[0]),[]),u.push(function(e){return H(p,x,e,m)}),h+"--block-- "+(u.length-1)+y[1]);var p,u,h,c,f,g,v,d,y,x,m};for(;e!==(e=e.replace(S.regexps.block,t)););return O(S,e,w,[],[])}(this,t,[]));for(var n in e)this.registerPartial(n,e[n])},unregisterPartial:function(e){delete this.partials[e]},setTags:function(e){s(this,e)},escapeExpression:function(e){return i(this,e,!0)}},x.SafeString=function(e){this.string=e},x.SafeString.prototype.toString=x.SafeString.prototype.toHTML=function(){return""+this.string},x;function s(e,t){var n="{{"===t[0]?["({{2,3}~*)","(~*}{2,3})"]:t,r=e.options.nameCharacters+"!-;=?@[-`|",s=(n[0]+"\\/\\3"+n[1]).replace(/[()]/g,"");e.regexps.inline=new RegExp(n[0]+"([>!&=])*\\s*([\\w\\"+r+"<>|\\.\\s]*)"+n[1],"g"),e.regexps.block=new RegExp(n[0]+"([#^][*%]*)\\s*([\\w"+r+"<>~]*)(?:\\s+([\\w$\\s|.\\/"+r+"]*))*"+n[1]+"(?:\\n*)((?:(?!"+n[0]+"[#^])[\\S\\s])*?)("+s+")","g"),e.regexps.else=new RegExp(n[0]+"(?:else|\\^)\\s*(.*?)"+n[1])}function i(t,e,n){return e.constructor===x.SafeString?e.string:n&&t.options.escapeHTML?String(e).replace(t.regexps.entity,function(e){return t.options.entityMap[e]}):e}function m(e,t,n,r,s){return{"@index":e,"@last":e===n-1,"@first":0===e,"@length":n,"@parent":s,"@key":t,this:r,".":r}}function b(e,t,n,r){return r=v(r,e[0].level),d([{scope:t,helpers:n,level:r}],e)}function S(e,t,n){return n=e[0].scope,e[0].scope=t||{},function(){e[0].scope=n}}function w(e,t,n){if(!t.path)return t.value;for(var r=0,s=t.path.length;r<s;r++)if(!(e=e[t.path[r]]))return;return n?e:e&&e[t.value]}function F(e,t,n){if(!n||!n.vars)return[];!n.helper&&e.helpers[n.vars[0].orig]&&(n.helper=n.vars.shift());for(var r=0,s=n.vars.length,i={},a={},l="",o=[];r<s;r++)i=n.vars[r],l=w((a=t.scopes[i.depth||0]||{}).scope||{},i),i.helper?l=p(e,F(e,t,i),t,i):i.name&&n.helperFn?a.level[i.name]=i.value:i.depth||(l=!i.name&&a.scope[l]||w(a.level,i)||l),l!==k&&"."!==l&&"this"!==l||(l=a.helpers[i.value]),l===k&&(l=t.extra[i.orig]),o.push({value:l===k?"":l,alias:i.alias,type:l&&l.constructor===Array?"array":typeof l,name:i.name});return o}function p(e,t,n,r,s,i){var a,l,o,p,u,h=n.scopes[(t[0]||{}).depth||0].scope,c=(a=e,l=r,o=n.scopes[l.helper.depth||0].scope,p=a.helpers[l.helper.orig],l.helperFn||(l.helper.isStrict||!p?w(o,l.helper):p)),f=!r.helper&&s&&(t[0]?E:k)||r.helperFn,g=[];return f?f(e,t,n,r,s,i):(g.push(function(t,n,e,r,s,i){for(var a={name:e.helper?e.helper.orig:"",hash:{},data:{root:n.scopes[n.scopes.length-1].scope},utils:{escapeExpression:function(e){return t.escapeExpression.call(t,e)},SafeString:x.SafeString,keys:y,extend:v,concat:d}},l=r.length;l--;)r[l].name?a.hash[r[l].name]=r[l].value:s.unshift(r[l].value);return i&&(a.fn=function(e,t){return t=S(n.scopes,e,{}),[i[0].bodyFn(n),t()][0]},a.inverse=i[1]&&function(e,t){return t=S(n.scopes,e,{}),[i[1].bodyFn(n),t()][0]}||function(){return""}),a}(e,n,r,t,g,s)),(u=c?c.apply(h,g):"")===k?"":u)}function E(e,t,n,r,s,i){for(var a,l,o=0,p=s[o],u=r.helper,h=/^(?:if|each|with)$/.test(u),c=!u&&1===t.length,f=t[0]||{},g=f.value,v=(h||c)&&g||"unless"===u&&!g,d=!1;s[o+1]&&!v;)u=(p=s[++o]).helper,h=/^(?:if|each|with)$/.test(u),t=p.vars.length?F(e,n,p):[],c=!u&&1===t.length,g=(f=t[0]||{}).value,v=(h||c)&&g||"unless"===u&&!g||!u&&!t.length;if(i.fnIdx=o,a="unless"===u||!t.length&&p.bodyFn,l="each"===u||!("if"===u||a)&&"array"===f.type,"with"===u||l){if(d=!0,n.scopes=b(n.scopes,f.value,{},{}),f.alias&&!l&&(n.scopes[0].level[f.alias[0]]=g),l&&"with"!==u)return function(e,t,n,r,s){for(var i=n.alias,a=r.scopes[0],l="array"===n.type,o=l||"object"===n.type?l?t:y(t):[],p=0,u=o.length,h="",c="";p<u;p++)h=""+(l?p:o[p]),a.helpers=m(p,h,u,t[h],t),a.scope=t[h],i&&(a.level[i[0]]=t[h],a.level[i[1]]=h),c+=s(r);return[c,r.scopes.shift()][0]}(0,f.value,f,n,p.bodyFn);n.scopes[0].helpers=m("","",0,c?g:n.scopes[0].scope,n.scopes[1])}return[v?p.bodyFn(n):"",d&&n.scopes.shift()][0]}function o(e,t,n,r,s,i,a,l,o){return e.options.renderHook?e.options.renderHook.call(e,i,n,r,t,s,o||{fnIdx:0},function(){return a(e,r,t,l,o||{fnIdx:0})}):i}function u(e,t,n){var r=F(e,n,t),s=r[0]&&r[0].type;return o(e,n,r,t,!1,t.partial?function(e,t,n,r){for(var s=e.partials[r.partial.orig],i={},a=!1,l=0,o=t.length;l<o;l++)i=t[l],0!==l||i.name?i.name&&(n.scopes[0].level[i.name]=t[l].value):(n.scopes=b(n.scopes,t[0].value,{},{}),a=!0);return[s?s(n):"",a&&n.scopes.shift(),!a&&i.name&&delete n.scopes[0].level[i.name]][0]}(e,r,n,t):i(e,t.helper||"function"===s?p(e,r,n,t):r[0]&&r[0].value,"boolean"!==s&&"number"!==s&&t.isEscaped),u,null)}function H(e,t,n,r,s){var i=F(e,n,t),a=s||{fnIdx:0},l=p(e,i,n,t,r,a);return s?l:o(e,n,i,t,!0,l,H,r,a)}function I(e,t,n){var r=t||n?t?n?"^\\s*|\\s*$":"^\\s*":"\\s*$":"";return r?e.replace(new RegExp(r,"g"),""):e}function P(e,t){return[-1!==e.indexOf("~"),-1!==t.indexOf("~")]}function f(e,t,n){var r,s,i=e.replace(/[[\]]/g,""),a=n?[]:i.split("../"),l=a.length-1,o=n?i:a[l];return n||"."===o||"this"===o?{value:o}:{value:(a=(r=o,s=t,r.replace(/^(?:this[/.]|\.\/|\|)/,function(e){return e&&(s.isStrict=!0),""})).split(/[./]/)).pop(),path:a,depth:l,name:i}}function g(e,t,n){for(var r=e.length,s=[];r--;)s.unshift(e[r].value);if(n)for(;s.length;)t[t.length-s.length].name=s.shift();else t[t.length-1].alias=s}function l(e,t,n,r){for(var s,i="string"===r?[e]:e.split(/[,;]*\s+[,;]*/),a="alias"===r||"string"===r,l=[],o="",p={},u={},h=0,c=i.length;h<c;h++)""!==(o=(l=i[h].split("="))[1]!==k?l[1]:l[0])&&"as"!==o&&(p=t[(o.match(/--(\d+)--/)||[])[1]]||{value:o},l[1]!==k&&(p.name=l[0]),"string"===p.type?(p.value=p.value[0].value,delete p.type):p.value&&"string"==typeof p.value&&(p.value=p.value.replace(/%+/,function(e){return p.active=e.length,""}),u=f(p.value,p,a),p.value=(s=u.value,a||!u.path?s:"true"===s||"false"!==s&&(isNaN(s)||""===s?s:+s)),u.name&&(p.orig=u.name),"string"==typeof p.value&&u.path&&!a&&(p.path=u.path,p.depth=u.depth)),"alias"===p.type?g(p.value,n,3<h):n.push(p));return n}function M(e,t,n,r,s){var i=t?function(e,r){for(e=e.replace(/(['"|])(?:[^\\'"]|\\+['"]|['"])*?\1/g,function(e,t){var n={type:"|"!==t?"string":"alias",value:""};return n.value=l(e.substring(1,e.length-1),r,[],n.type),"--"+(r.push(n)-1)+"--"});e!==(e=e.replace(/\([^()]*\)/g,function(e){var t={vars:l(e.substring(1,e.length-1),r,[],"fn")};return 1<t.vars.length&&(t.helper=t.vars.shift()),"--"+(r.push(t)-1)+"--"})););return l(e,r,[],"")}(t,[]):[],a="^"===n?"unless":/^(?:if|each|with|unless)$/.test((i[0]||{}).value)?i.shift().value:"";return{partial:">"===n?i.shift():"",helper:a||(">"!==n&&1<i.length?i.shift():""),helperFn:a?E:"",isEscaped:r.lastIndexOf(e.options.tags[0])<1,bodyFn:s||null,vars:i}}function O(t,e,n,r,s){for(var i=e.split(t.regexps.inline),a=0,l=i.length,o="",p=[];a<l;a+=5)i[2+a]&&/^(?:!|=)/.test(i[2+a])||(o=i[3+a]||"",p=P(a?i[4+a-5]:"",o?i[1+a]:""),s.push(I(i[a],p[0],p[1])),o&&r.push(-1!==o.indexOf("--block--")?{blockIndex:+o.substr(10)}:M(t,o,i[2+a]||"",i[1+a],null)));return function(e){return function(e,t,n,r,s){for(var i=0,a=n.length,l="";i<a;i++)l+=n[i]+(t[i]?-1<t[i].blockIndex?r[t[i].blockIndex](s):u(e,t[i],s):"");return l}(t,r,s,n,e)}}});